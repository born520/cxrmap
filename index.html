<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Custom Google Map</title>
    <style>
         
        body {
            display: flex;
            flex-direction: row;  
            gap: 10px;
            padding: 20px;
        }
        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: white;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            z-index: 1000;
        }
        #map {
            width: 65%;
            height: 80vh;
            background-color: #f0f0f0;
        }
        #info-container {
            width: 30%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 10px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
         
        #hotel-dropdown {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
         
        .label {
            position: absolute;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 5px 10px;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            color: #000;
            cursor: pointer;
            white-space: nowrap;
            transition: transform 0.3s, z-index 0.3s, font-size 0.3s;
        }
         
        .label.selected {
            transform: scale(1.5);  
            z-index: 1000;  
            font-size: 18px;  
        }
         
        .label.dimmed {
            transform: scale(0.8);  
            z-index: 1;  
            font-size: 12px;  
            opacity: 0.6;  
        }
         
        #airport-distance {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 15px;
            background-color: #f1f1f1;
            border-radius: 5px;
        }
         
        #selected-landmark-info {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 15px;
            background-color: #e8f4ff;
            border-radius: 5px;
            display: none;  
        }
         
        #landmark-distances {
            border: 1px solid #ccc;
            padding: 10px;
            background-color: #fff;
            border-radius: 5px;
        }
         
        .landmark-distance {
            cursor: pointer;
            color: blue;
            text-decoration: underline;
            margin: 5px 0;
            transition: background-color 0.3s, color 0.3s;
        }
         
        .landmark-distance.selected {
            color: white;
            background-color: blue;
            padding: 5px;
            border-radius: 3px;
            text-decoration: none;
        }
         
        .travel-time-label {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #000;
            border-radius: 3px;
            padding: 2px 5px;
            font-size: 12px;
            font-weight: bold;
            color: #000;
            pointer-events: none;  
            transform: translate(-50%, -60%);  
            white-space: nowrap;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);  
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="info-container"></div>

    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo&language=ko&region=KR&callback=initMap&v=3&cb=1735537516056"></script>

    <script>
        const airport = {"lat":11.9980782,"lng":109.2189984,"name":"깜란 국제공항","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y8wuQXkyk_S7xwIVWkHRVgObR2a-9Bv6FuSibEliPI6_d8zwKQ-3NRqG0h8NOT2pFRyYRHHWmui732ywFIXyw4bOmgxzpMxBiDWSR1VWMcb8bfM6NkgwcI7BiexYmKR0q2PFoKfDmp54hSM3pzjOnedVkma8Pf4DHK4rABr6W39tSZ&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yPQtsqACkgKi4qXSzI_Zrozi3kwvX1iwjkwX4ZtWkK8Pc2s0c0U8EJ3iHWCChFnLvdVL-DiwQwFwTXtzT0CCAFNwYld5PkzqbfLxVljRZ7ciX7Bn9-L8uwaDyRw3EU1r30JUf7sasgsq208RmzlV1o0u6o5U2aT9zxI-Q5PpnvV0kj&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zIQGmHLr025xIedRAfvz5wN3OwU0PFhFbMSHUwjIxyykQi9GxMiRzXsJiYEXL_K8PT9EI_EUQf4cJ6fMsIh1XBkxj5yQnZbzdgJAq0wjvK4R95eIiocPUWQMETsPBfYFhELLuWtI5uzRTl5ulT2HUN67M6Uk2ACPrqCoMe3wmwjHCm&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27z1tAJW5IKzuctL9Re-trzHeZoyOFvJEQ8g4mm4ZvIAC5gFzypN74CAmMz7zF0NKxNjyrLVZ619378BwobdWhms8ohPoqsKdcwHbZ6VLeviPc1dWqQOITo0SDDkltDK82oY6pUFWJ6MA34d91zOutOKOFvlTY8jBrbPAPV_l7Lcbs-C&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zheCCRH-ZFBAxIpA97ikbaxduIPT0AK06iaENJ1c3VnXpsh4Ku3L0y6RcIDIxoGnqlA8MhAXJWEXmhWvDp5HU7pLCjWqaAeci4drYgpvv9J49YJ-TIVf63GWvzj5ewdwEiUXRurjqzcRVB6STD2kQ03HQQr7zvcxfZOySJl27bW0k0&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27ylK5o-kGvXLwG09z3B-GqP4MOXb31iFbDeuQNFgkk3x8hf1yLhmmAQtl32ffys0NFYRT-JR8ldt_nn0KqLu2hHWzxWGRRYyisguANPZRjRs2LxlCSXRl0_Pdg0wSH09sB0GRUkEQXGODpu98UmKysyY9HIyfq8XW2CxJmoUzutj8Bg&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wGm7llTv7x6N65gj-yP69XNdkHeyMrgSDI_VfEsmT4sOz1OdaH1T-pjmAP7xXWLS60Pq6TEdyTgbH8HXePgABYTHXz9kWnYazYPwOcnxWCYNXydYfL0VX2gJzpnOFfRxZnLBRW0BZuTE67PNqdckojnfDwpH0GO1klohOuepYKURwq&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zvT595SKCzdqem3hlA50xNVDerVFJ2VfXI8_adTQtTtm4OdhWMzDxADr6fQcT1etuhrmBRsml_-5DtWUPT_2GyMmoTyZNnqNTb28CAk-fszH6-R0e4LlFbXEKPs5mkNm3YDxSPqbANDqSzvJsVPC3aMwhcX5_tVe5R2LkEpvtddg6E&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wYkllI4midWFmL94rkdLsXOe1SIndxjnWotS1dJRXD6jEh8zRAdVTyM4r2rQjWFbA9bP2ZfGJ5csl8piGGKLzwQw37IPJSxYZz-VVyBUrpdGFZs2C-fyqj0PfFJnxmUGfWLxpPN4TBUuG609e7aDcmOYXo1-Yz1TXr-uCbjY-70jWq&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zXKwNGFt_d9dFrQdSS0Gy0LYv_FLRz24qE-6KbO6MUK5yptuhSu8IftRSqzMaAEqMy0qoE48eYYuAEjUxyWJoO_XblmsXFbT1ZTppP97h4Myv_Y17WEoJtf94bkm_Zy-LN1I71RZMmC-IoBe-g2zV6TXSd9wBPKHLrD2XJenA_aGe5&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]};
        const locations = [{"lat":12.232931,"lng":109.1970385,"name":"빈펄 비치프론트","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wgRHMYLVAWW3CQgkoecU0OT0G7rtvHtDV75ZFathAtFPGybsiUbQr_op2WUhllaNGfYyHcxWer5X8joG0blwqrUgO4ojiGJRL_oOboKnpX5nemAtXej0iSQMl1h_RM99HjwvFlFvIeE48CyNmDL506SpUG1MfHJv_xUXRZJLL6xBFk&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xY1DiedSun07D128doepaWEwXtIcYUwebN53I7mDzUXoHIgdG4ApIW_LqyRL9lOMlF_Xq3xfpn4CyJXSFfZ_FO6qMt0ZDz_TCpWbnI8i3zpck0ehQTsdOP5MJu4xWRP7xs9SwAo5Viw6v7ylqKy4DKvn0EudxIKRbfFSE4vfyWhvUb&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zZghXOyIMhPiYGGP8pIhcv7Rkf4ADFh5dIdnQPfe61JKDuoV4guRyHMv7tfxFyaOBfDrOY-vk95uG9AOMOzvoOnOe5O4a-P3Znm-BiJu3A-5CyCez3F7j1Dw1M_nldDZnwOqMbqQ7O2AaGiXWvEy-0ANu_8wJPupwARcUM9vUUNOr4&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yzGEDBPm5IV8E0Om2qv66C1k7-qBoX6Sf2WFvaoE7tkxgMNiqiCx3t0RA2iomPfhkGCbmTCKh5wBpPPYZR6gf-QLdu5Fnn9UWnxDyc1mQOx_9o8-IBiUrNYE-5pDxryoJEiq-mtp9v_HWfW0J1r6cHGiniyypWZwsf_O1_FNN69cvC&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wQH8yMJd_IHVKMXhP6IZ7488CUM1OiI16t1KobYhIc-52oQED_Yo8nsJhxCMqVVoLzEJoks56KW1mArQW-vty3v36dTNjRc_diDIt9ijK101MpY448JODVzjyJuJNkM0Rl73ceS7TLA0mw6hrRUXTNuQ68oixPJQe7YE6ZpWRotier&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xyQHEfKpxHM2q6C8wTqPTnh7pg3MthdMBiqLD3UUDQMaomhNRKBxox9w843Hi6eOAb6XgI2n6wpwGlD83V_ljYJJQUBnbRR5tZ8YEYsIG2aWjtb2g3-a7idyWWYAm_nR9ZgO87DGbST-dD01S8Xie6nTIcAjzp0LC4mCWgfWHmQ7cF&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zBaOaBFAiXI_9CDloAGoC1P9v5XLk477LXsAiXttI0emZ5wohkMrEgwDbr5nx1TlaEZRvwVXCUfrOD9lu9BpI6u195RPPitoxLESrF0MkDHX2tGEJuFHkXfIfN2GeVfKdcSlQA_cvIfU05G-ajp0VXdcsCI2GVKQb-Xlh96pvXz8wN&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y6Ep3_nDEdHHW3lQdX-pzPaicI_bjummLDApr1iHV34bJvDksb7KslyawVfb7N7VMZWQWfJmE7m-lcj08bv9MeucuFks5mKGRNbEhZa7rA8GVK0Q0jl04sFShmiS7JozPNv7F6He_u5V_zG9_Hcc6NcALZiSOroVDrdUDqUjzJY2nn&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y95XzhB427P7P6AegXrA65LSoaDfgc8gibEdz-MQ95OTIqvpbnbaORMXTeb-nTjHHJXoFOenLeBAdfCVN3d4XJsFap2X8zgYWUU8x1MFGoUymri9ou7yrp6BD0lyVimWCrc_1xHD-HZIUzLWaTx9iv9QUvyeOo4E3_17TlEKae1gxT&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zQXbsWK3ZERptuk_gShz_u4wnmJmOgYOESWql-Ft2xM8tCzvyxIlFg-KZ0p4S1Clu7l93jcc_P9Tc2Q38QqU0WVwLTDSqFCd7MF89sw7UnlDs0FQ7udEEPlmtBhQ2OGUWt9VVT6YHWLSSt-YcjnWWNr8grBPY17ibmd_3aaCObH1tq&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.0864644,"lng":109.1924853,"name":"셀렉텀 노아","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xu1eqQOWr9iGuS7JJgFSFVv_SCnA8oDeXmyFklWzeAw418d9ELhiiFTS__uclVQAUJ34qrXVQkKfcbud9s5QvGyUhtkAlzktjzBs9nYpJD9M30EkQvgObUnx1Dh4OG6PXB0jUXi9w2ZU_nhzaFIg20VzQO3PqPZS1JoSQfYxmnmQY&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wS8R83xmIhwwj7iv9zd7lV2agaPhdRM0LMUHDTqv3opNoylDt_0dD0Xjtdv8146Iv8383YSlrBd3p5SS1xToowlRUvSs807WY5Chx-khc2mpfMBUPV44WLB82mCxnPZAHslScpTNlCG8S5jus1nW2WLGWs0HOpg-jcRSKB7KboHPZf&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yvKTXqvoV4GVLv6Dx3X8A8VFpkBnVduJJQiDKzDi67vo8-MQmLpIAhPBwBdtFXpgKDtS_yWoXFvCe39PtoUSWt0UjJA022MrjJOeZt2eRuiRYE1xn81U7zbaZAEFC795d5nVkp_e2kckWQFsc1mwYL-MSKV2_2gFKB_1sI8AYxlApD&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yokZAUbC63XgQaSEwAp2mWiWqIOC-wwCdFD9KGo_ogIQDfaXoWKSQSZmyxncUlEBqnt6eDUqp2r4dO1CIFley8jN8dfbWaGw6Ny-GKb_olugm930LNiVpvcsYqcQ3wCWgABrZr7xR3FFyUS4Zj5pWDnd3yYPb5twX_YXmVrDSX-Xvm&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w8z9lgAWLJeG4o-n4nujOWqQ3jkzug-HFyTWpXbYqWhsIuLRX7dqa_wxumTkLu_yq45mr56zwZteOnAtcxVNdxjZtSyld1JMQy6icS9l8_Gk3JuNzmdHDmBtNn3ka-AKYyksKbkFSdxS531HRW02nrYLH8-4fQGdRjFAF92DCAy0z8&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w7JWliRcCPYzpAfPlguDcxSyQXSgrHPW953Yrebzrs5FPo9aXtEa0i9Kok3vr-CljKWX6AUajib_rmGEJ1tRf51rRejuMAHsaDYx57N0cz1IPNxEEJyiCqOOkMpc5ukf7RZDrh1LwEft6HiEYj-s_IzQLts-Zwn3E4lCpy6wGXOJ8h&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x_AEnm9YkDgsMo_U1B95zOZwMD6ivJ1i6daoy9RJmkiCYD0v7_2mCYFp-IojngpqGLXUxquOn0d6eWfDyOU-3aCtmqiwGk_UK7fnkqJolN_YHfB1Ca461YjF-ryXyIQRhdmSxJUtetlL0V3TOe0fYYkZDzdhTNAMp2xAUkxsNDpfvJ&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27ypy4KJwfXHfmaA_N07WBzyJGa0r-uNTrVZMVV1EJ6b825M2s-iUBgaR9FwF80iKskn920hsB7SMXAm4o6Eu6HXTJ1hbQVmLfyPcPTKteZ-9Nlp6Ga7LhnQzQhhQJIXeg3IsuQ6EPrCm44dTE7vYCm_-xR6XF7JUDPHIn0G51f4jLPe&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wqWt4y5zQIni_8YvMUZH9-4PcAOf5IZh9YMf9haLzEqJ7wbRTt1I2AtmbhEMdMuaOp05WQUS2OUT4-41uAy9btWbeEii2OcZP-XBmZyoAXqef5iblt5ia_e-zhPX1Fu7Plb8tNZX1wR9-dk_wK3Ht_qlkPYkTW5q2uFKFepkobOe_Q&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yHvKQrJLh0kaq5dgTRnqSBXgQK2yllqbtalkFYTW4VNDJslZIHVrxM_vHC47_ebjMv4-2iXPE0Bc6VuQuN4M8DxDenaqMTdf_f1yt0qCCXU0MADysWYmdd8J6twN6hVwUAK21GY7XvgZ1rAVlD-MTfTS9xduOZbx_Q5cr2VWsRE0ei&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.3027211,"lng":109.2390543,"name":"그랑멜리아","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xr40RGgSbWL3LIqkYZCXaYWMZ_qzJXT2sfOUjQ1nXmKeg00YAuGmQxM6d-F5vm9toiwgL4VLmTrmzpIVD_HJJ2VljxIxpq4UCRqN5_G-Mm_L2SCWzEMoiCA47J15d5nFbeSV6i6UBNjET8GG0PAMXdNzkD3Mgrf_1e7MYNWI3zRNfL&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xsBo-lCOKhzN_twYohnpFn5PvXNq1-fYr2mnd0qcrn0pwlYLI0d3N9EYnHqIug7OC2VZNP-uleStNpLq4m4u1N2vKjhDTPXlno6gvO0mgh0EbsxH7HYsgmC-OLxxVtK7xqWKLVcMK_KuUMo0SNcIee9r3-Zz-Ll3P9-mXCucRSgb9L&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xp9UQoiYg-mwCFU0nU1OZbcE45cbROhQ-3Wz-CIbe38l8Fscd3kE8b-A-CMqCv4QggLxk4gkmsMtneDjYAkBG_Jrrclw8PwAHGIFKXcZx49ObXOdD5SyKZ68-EuJH2LAhYcjSZTuJKq5ZN8oNGn-32arDSJks2kJ2-uNzJXJZjQb8e&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zAlCYog_Km8b4oHN1pp88YQgv8uMNgFnRMgx3v9yg9GxRXXUc4X6QX5pxyOJtMRZy22xvI1lyT6J6fTUdQ8opvNpJzAH_OSSkxsy8VtsuiPIAB3q4QB2qG_hKU_7FiEhvALmzSfqJMn23yCrhu2rlaPO9fTfXwj80BZoV3gzRHecKo&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w4eKwTCdMIcy5W-7RjqpOBv7spvI9ima9HO1jFB5DhnvBszGjX97d1i6Xjk1AIh90LZKGLMMpjmWM_ngXW66eQXLg7cGbZL7SGEJZLJtE894lbtC1cX1SGgsSjOA8elHSeu4xmzS37I7DVixlfsAq15sO30v7-ssTmDzOa-A-c6YRj&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yAX6y7FtEhyBTQPp-iNpZ56H2fML8LBBO42XuuxcVvBwoGcI1zLxGI3TsLRxQG3e560ou7CmiP-33etHsdHmRqhINqVIiATgCcex77QhymuVFwaAlOLneIkD1K8AxncgthxVQT7Z-RF9uCoWeuQtF45mqHAPhXmNkBPVMWgdilAbIS&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x7U3smqG4Ho9qYuEHT6wuE1Vj8wGDt6w0s2-KmZvFW5Iy7jbINgQrN_z_Wx3ayhrMvnUAo2_E1xz9WZhYLlKV2qERXBBPSSPMDgSZuhiOO6npkT0cfSUHEPFROX60aB3RBKLfyZjsQIk_1sx-aby-mjG2-vrsJRCnML9lOFptCffRZ&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27weXu51L2FoyAakQRUxbq2Nwagl_Rma5R0T7IikI7qjJLpLBKg1R3acgNu5TPp-xKpxSzgia6OLPYmPtzZmaWG-xIivdtPRRt5jbozyVGGf18KliG9vZjfho-rDQFlXCQBReqxdKXKssxL6xSlXgUahyExVsXMKnr9uu8Z6xMBopes3&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x8noJg6cOC1WnUVrKtXS0TJvoHIqOCqV9jXWN8tnFMrE47jszOaXsMDqlMcSPb4ZzrD0UyWV4VBBgT-86Ev3p91ARwdk3Ke7wpp48KT4zIPzIGTt4eMhRj8Hymkwf7DKJ5PblZ359yUh9sq7vHNHXnpYTUYcJkThaYFpPrGGx6Sb_H&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wBC_aL_k-jK_zRrhqv4afP9yrD4dNMFUFpDWjSi4DRs16_A2cB3YuSKa37fABcfC4mKJpqrAGTNqJ7ucgL__0POk1aDkim_DGbsA8W85yeR9q9JNjT8St4WS__fRYv4p_6j5cqXCvOF9yOHs42Thhwjk3DJ67tqbVtuYReDwFJyVFb&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.2185907,"lng":109.2551167,"name":"메리어트 리조트 앤 스파 나트랑","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y7XA1_GyhbaLg3c4mcVZ6G14OPZiU5ylEYcQRoxNBvGXgkjAtdjhdnRHYFAdQVhwT7QreyntTLPxIi94_eUfB63hoSJ_yfS9NhkOSPcktWJbJd3yyS6f5MYqCM4BOZ1g9yqVk3eFI5F_mYe-AG2hStU-oSF6UzkN26ege7P8I3QwIq&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zEJ7m37rBIRfnLom1Gd9PXlpqPDj2PY-q1W-mjY1S0osLgp_QtClzOQA1RcdDW_7i3rno8Fb_nhfMGLSZ_5sVBeSufG8ym72sK1CDnnfVpZ1BnSzGMOUTpKOt5Mvs3xxYHPArz5qjLF7TRtfQAqh06L544aQm3MYq018vQPiOTib_e&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w7hHq7m0LXTabBiLw016knKR3xwgnNBNv9VWLFm0LLe2HbKt6rQkoGGk6Ql3z59-TtgXUKSkd9MFyB7z0tqdeLOwP3_OcD4gPfL3P35pejE_ZZ8isUn09TTpgs1mE2Mzd1CBPLPXNKZK5pC8Oyxpt6IqS6u4N4uKYvLjR3W_gRq_0P&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xTvpVfu6GfoGeg3ftqR6LPRwNLsPRaAqeYGxGrWbIxAfdkGzTMuL9lrxtfvS8wiWkz3fPdPWj3osTVURy5cYfRwY-t5IZoT7hpqCeyc0REsUPX2myZ7SqdQhyyxK42V_J413c8RDKc43e3hGhrD0EWHHl9sKJNiDTfhdBZk3Kiql1U&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zpyptf6pXp1JJBxhi2QAyuZ7S2rctMxG8imj8I-81MDaEtcc7low148BQBGvp8ON3d989ETYwZ4hnBTg3o9SUN-7dfGlftvGt8bKrJnDdZolW-nxqblsLY3a6SXVnnGO2rSJStYmmKhQ1kIElr0BP4tzBi_a64Vati_Ml_RmooYzOh&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y8v0yC4rLIqBaJFGaMW81-_819PJSOyu0IY_pb6DTUf1oA5rfp7DsJDOEmzib0i7bUfrJBwuSavtfxVxxkkjfkDRB-CEjQ0rM32iEoof-OGkdoAEbJEMSc-q4qGV763dRJBJQwfXWHRaeGxsiyZrB8qj7eJpqgcnlh12xLMC0KG2Do&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27ygtHnKLkbP81bNPlYBo4SALE_snlsqZ-1AWqqvyl4c0fDhdRqCetn93AVvtElP3NhLnz1Biiuok7-9L_6ev57HInm40LZR5vVxZnmokJdpHqRTTsD48m_BFwQKHst9w1jb6QH2r9L9Tcap1bHxdtkI2snJL3vSLNoNYcL0VVtyVHVt&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w1_dqg671nNEOP6IB4dmCQ58w0n3wqarWka3ruebWR98JJYqxDqF7sEFCM76Sgk0XhRoiHlz9K8XcTgxlixr-B90JKdIjMUb1ldzf0Pvt0YusWOJ4NxlfOCQ5nxxxht-06F1TOUKAtnYYS7iPWHKtOzRnaBwnJUEnQzyKeOMndMSio&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yVxffSIoXjfiwhLNpabzsIaI7zdVe6_u0urK9LGK0RSni8AJUJC9H0e6Tss2TKp_Wr0it97m8e_lyOobhnCeWk1t1Y5jQiSiIl7NSPCIbldMZXgih85QMxkht6_a_XofPDPegbgXcDM01uV9hVcKXyGU2SYMaskVsQjZHbAqw6jFH9&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yCSdMvJg3asFT-OKi5Q-pAGaSybJLJcqvKCblJDGweCqZzZzfZ6qGoorheRiwe7NFVNCaOVevQk8SvaMOPW4lDREeq-k_jXxXrwvTe8M6zZ2qrNOlNj6Ikb4SKfOPkXrlI-1ijkKzbLOg_J25bnQAB--lKRUs_9Sc1CdNAGPSTOiFk&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.2253121,"lng":109.237382,"name":"빈펄 리조트 앤 스파 나트랑베이","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wYq7wj-G2l3N46-kjD5ATIzikajbUrwvXkIws3PAtheA-DtlFlvARjErpXXeHCT80W1c4u4PSTws_d39p0S7E8I__2JzwUZiKgPn0ezMSZcYwHzieMyH_5vboEZ4jI99J8pA22Jfi0Ilpm-ylHBOc8UtyRMQMJF4Nu0rTNMFjZWMiE&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zFpef0eSKkstFKgcDHSqnXyYKRdbqgArporPCLtUfctC_uXzwxNmViU81nNpQK7CJesoJnEr0XDfSFwzUKIxaH7T193P5xDyqsVhll95AFbPcxCAWXDl3sKr3fnSXt9c9ANQfzvl3qJyoLouXoiLkL19XKwdzw0iKzH72WyAbHfzjW&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xXKN90rsGPvcIyzh7j6TNpdJSs7A5kXc55WBZ2DxatBr31dkg9u6Xx1-bXPddc_-IMgK6HjV6In52BFkVontvK8cF2dsyiwwgUr4jnj6OO0kAVBGx0m1BKEDBc4qEqsRRFs7sD5t11I3aVQzChVv3fOYE9jOsWD9MDP1mU5X8p-Kc&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xQDbmnHWC3o4YG3dhXreXiPJDcJFBsv5n7n3dBkNZ7rtgWkK2Zow3y5iTUtqw1YOvvPtzbXuVUi_xJ4QqfRCn1LFQQ-G8zWGXbMBoHWyfv3DyETmSDVBs76z0O6czEvyE2uwdbqeEEj9DxqIrxhZrByRyhgVlM7917iTZ7GR0FFiyv&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yFByFm7TQlCrMjvIqwoQSDhEpNMBY71Zqzimj08ss7vnDK9onFrI84fxA5LKL-gErAwlRWuMwAnPDLrQ_RcCTEz8qq6NGLDFERXemxwwH58vWvBeBbxwoPom74z1ZKoEtd8JeMKRJ4V1P5EyUWJQgAbCfjuoElXc7_-VLneK9-YO9r&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xgU9PNjZWuTXKx2WP1Huw4eIq11KWKJ8PrsesDwU8y8vYQ4xfwa2ryqxgRE2wnxlZh7gvVRIlBcu2a3CA5J_gV3qg6a_gbHzp99bgth-CsHE8OY4M5XvBMVBVLQhNy_t07TeLj1eD6j6USzubseCf8fELYsh5LMk6WK9tr9pD8AGOO&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wrzBN85UoG2sUJFIdykATmajX-Qutb1lVxEFGpHLtS1mrREfMnAQagOgW9zMRVbdpj7tweX-nAlvMJ4aoY44Qyb3s-SZh96TjeXio1y7XY8FAG5Nsy0Eh2o3IHDxW67dUY0weYTfS6YijFqmbY9UVo8wnLfUkT6zwrzdzOfFfdIyvm&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yqq6cA5BGPp-zoCn9GeNbKCAsKpNKOTPzCf2qzbjPTKuXOM3p9eBxH8vNPmPxo7wZpxH7pMbbO63dgm_ohtJKt9FTETMnAhAgeg7p16AXNjucaeAirlRWai7VRdpLps7RmqtdV-dCn_NdOsjprdKd4ZnnuSCtGVuQHburnRFY8Xg87&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wDb_DaI3S3vjU_foFgVfMcSZDfzf3J-leQB9vGQEGOquW5RocIKuVA65RlYyZK_aI37mskr0kug7BBbxgpKGC2VsRwzp5AQaHZdLHQgSzvupNkZ7c_Y-psvW-fm8bi092kNUYQq2H_5Hk1LNUkrIpW8ydoOkr6lL4TCzce03mPjsmz&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yph4CqJpbaszG3lYHDEoeBYj5y0csL0H2AXU9IiCG0VHwBtGzMwQTkJBWaBMq-PgEphbJeFv5rFGyow1U_d-J0ORel0gIgvTRakMlbfRtpHnOk5BY8gUlkTWEWJcrPCR_8ysiULgmsEAqKbFIhPtsWUL9ib1l-In0v6j0ufJLZYkTD&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]}];
        const landmarks = [{"lat":12.2400618915029,"lng":109.196151222402,"name":"시내","photos":[]}];
        let map, directionsService, directionsRenderer, blinkingPolyline;
        let activeLabels = [];
        let selectedLandmarkLabel = null;
        let currentHotel = null; 
        let currentTravelTimeLabelOverlay = null; 

        const defaultMapStyles = [
            {
                "featureType": "all",
                "elementType": "labels",
                "stylers": [
                    { "visibility": "off" }
                ]
            }
        ];

        const normalMapStyles = []; 

        
        function initMap() {
            console.log("지도 초기화 시작");

            if (!locations || locations.length === 0) {
                alert("호텔 데이터가 없습니다.");
                return;
            }

            const mainHotel = locations[0];
            currentHotel = mainHotel; 

            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: mainHotel.lat, lng: mainHotel.lng },
                zoom: 14,
                disableDefaultUI: true,
                styles: defaultMapStyles
            });

            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer({ map, suppressMarkers: true });

            renderCustomLabels(locations, "호텔", "#0000FF", "hotel");
            renderCustomLabels(landmarks, "관광지", "#FF1493", "landmark");
            renderCustomLabels([airport], "공항", "#008000", "airport"); 

            showHotelInfo(mainHotel);
            showRouteToAirport(mainHotel);
            showLandmarkDistances(mainHotel);

            addLabelToggleControl();
        }

        
        function addLabelToggleControl() {
            const controlsDiv = document.createElement('div');
            controlsDiv.id = 'controls';

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = 'toggleLabels';
            checkbox.addEventListener('change', toggleMapLabels);

            const label = document.createElement('label');
            label.htmlFor = 'toggleLabels';
            label.textContent = '주변정보 보기'; 

            controlsDiv.appendChild(checkbox);
            controlsDiv.appendChild(label);

            document.body.appendChild(controlsDiv);
        }

        
        function toggleMapLabels() {
            const showDefaultLabels = document.getElementById('toggleLabels').checked;
            map.setOptions({
                styles: showDefaultLabels ? normalMapStyles : defaultMapStyles
            });
        }

        
        function renderCustomLabels(data, labelType, labelColor, className) {
            data.forEach(item => {
                const labelDiv = document.createElement('div');
                labelDiv.className = `label ${className}`;
                labelDiv.style.color = labelColor;
                labelDiv.innerText = item.name;
                labelDiv.dataset.lat = item.lat;
                labelDiv.dataset.lng = item.lng;

                const overlay = new google.maps.OverlayView();
                overlay.onAdd = function () {
                    const layer = this.getPanes().overlayMouseTarget;
                    layer.appendChild(labelDiv);
                };
                overlay.draw = function () {
                    const projection = this.getProjection();
                    const position = projection.fromLatLngToDivPixel(new google.maps.LatLng(item.lat, item.lng));
                    labelDiv.style.left = position.x + 'px';
                    labelDiv.style.top = position.y + 'px';
                };
                overlay.onRemove = function () {
                    labelDiv.parentNode.removeChild(labelDiv);
                };
                overlay.setMap(map);

                
                labelDiv.addEventListener('click', () => {
                    if (labelType === "호텔") {
                        currentHotel = item; 
                        showHotelInfo(item);
                        showRouteToAirport(item);
                        showLandmarkDistances(item);
                        animateLabels(item, airport); 
                        document.getElementById('selected-landmark-info').style.display = 'none'; 
                        document.querySelectorAll('.landmark-distance').forEach(div => {
                            div.classList.remove('selected');
                        });
                    }

                    if (labelType === "관광지") {
                        
                        animateLabels(currentHotel, item); 
                        showRouteToLandmark(currentHotel, item); 
                        showSelectedLandmarkInfo(item); 
                        highlightLandmarkListItem(item); 
                    }
                });

                
                labelDiv.addEventListener('mouseover', () => {
                    labelDiv.style.cursor = 'pointer';
                });
            });
        }

        
        function showHotelInfo(hotel) {
            const infoContainer = document.getElementById('info-container');
            const hotelPhoto = hotel.photos && hotel.photos.length > 0 ? hotel.photos[0] : "이미지가 없습니다.";
            infoContainer.innerHTML = `
                <select id="hotel-dropdown">
                    <option value="">호텔 선택</option>
                    ${locations.map(location => `
                        <option value="${location.name}" ${location.name === hotel.name ? 'selected' : ''}>${location.name}</option>
                    `).join('')}
                </select>
                <h3>${hotel.name}</h3>
                <img src="${hotelPhoto}" alt="${hotel.name}" style="width: 100%; height: auto;">
                <div id="airport-distance">
                    <h4>공항과의 거리 정보</h4>
                    <!-- 공항과의 거리 정보가 여기에 표시됩니다 -->
                </div>
                <div id="selected-landmark-info">
                    <h4>선택된 관광지 정보</h4>
                    <!-- 선택된 관광지의 거리 및 시간 정보가 여기에 표시됩니다 -->
                </div>
                <div id="landmark-distances">
                    <h4>관광지 거리 정보</h4>
                    <!-- 관광지 리스트가 여기에 표시됩니다 -->
                </div>
            `;

            
            document.querySelectorAll('.label.hotel').forEach(label => {
                label.classList.remove('selected'); 
            });

            
            const selectedHotelLabel = findLabel(hotel);
            if (selectedHotelLabel) {
                selectedHotelLabel.classList.add('selected');
            }

            
            const hotelDropdown = document.getElementById('hotel-dropdown');
            hotelDropdown.addEventListener('change', function() {
                const selectedHotel = locations.find(location => location.name === this.value);
                if (selectedHotel) {
                    currentHotel = selectedHotel; 
                    showHotelInfo(selectedHotel);
                    showRouteToAirport(selectedHotel);
                    showLandmarkDistances(selectedHotel);
                }
            });
        }

        
        function showRouteToAirport(hotel) {
            directionsService.route({
                origin: { lat: hotel.lat, lng: hotel.lng },
                destination: { lat: airport.lat, lng: airport.lng },
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === google.maps.DirectionsStatus.OK) {
                    const path = result.routes[0].overview_path;
                    const leg = result.routes[0].legs[0];
                    const travelTime = leg.duration.text;

                    animateLabels(hotel, airport);
                    drawPolyline(path, travelTime); 

                    const bounds = new google.maps.LatLngBounds();
                    result.routes[0].overview_path.forEach(point => bounds.extend(point));
                    map.fitBounds(bounds);

                    document.getElementById('airport-distance').innerHTML = `
                        <p>공항까지 거리: ${leg.distance.text}</p>
                        <p>예상 시간: ${leg.duration.text}</p>
                    `;
                }
            });
        }

        
        function showRouteToLandmark(hotel, landmark) {
            directionsService.route({
                origin: { lat: hotel.lat, lng: hotel.lng },
                destination: { lat: landmark.lat, lng: landmark.lng },
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === google.maps.DirectionsStatus.OK) {
                    const path = result.routes[0].overview_path;
                    const leg = result.routes[0].legs[0];
                    const travelTime = leg.duration.text;

                    animateLabels(hotel, landmark);
                    drawPolyline(path, travelTime); 

                    const bounds = new google.maps.LatLngBounds();
                    result.routes[0].overview_path.forEach(point => bounds.extend(point));
                    map.fitBounds(bounds);

                    document.getElementById('selected-landmark-info').innerHTML = `
                        <p>선택된 관광지: <strong>${landmark.name}</strong></p>
                        <p>거리: ${leg.distance.text}</p>
                        <p>예상 시간: ${leg.duration.text}</p>
                    `;
                    document.getElementById('selected-landmark-info').style.display = 'block';
                }
            });
        }

        
        function showSelectedLandmarkInfo(landmark) {
            const selectedInfoDiv = document.getElementById('selected-landmark-info');
            selectedInfoDiv.innerHTML = `
                <p>선택된 관광지: <strong>${landmark.name}</strong></p>
                <p>거리: ${landmark.distanceText}</p>
                <p>예상 시간: ${landmark.durationText}</p>
            `;
            selectedInfoDiv.style.display = 'block';
        }

        
        function highlightLandmarkListItem(landmark) {
            document.querySelectorAll('.landmark-distance').forEach(div => {
                div.classList.remove('selected');
                if (div.textContent.startsWith(landmark.name)) {
                    div.classList.add('selected');
                }
            });
        }

        
        function showLandmarkDistances(hotel) {
            const distancesDiv = document.getElementById('landmark-distances');
            distancesDiv.innerHTML = "";

            const landmarkDistances = [];

            const promises = landmarks.map(landmark => {
                return new Promise((resolve, reject) => {
                    directionsService.route({
                        origin: { lat: hotel.lat, lng: hotel.lng },
                        destination: { lat: landmark.lat, lng: landmark.lng },
                        travelMode: google.maps.TravelMode.DRIVING
                    }, (result, status) => {
                        if (status === google.maps.DirectionsStatus.OK) {
                            const leg = result.routes[0].legs[0];
                            landmarkDistances.push({
                                name: landmark.name,
                                distance: leg.distance.value,
                                distanceText: leg.distance.text,
                                durationText: leg.duration.text,
                                path: result.routes[0].overview_path,
                                lat: landmark.lat, 
                                lng: landmark.lng  
                            });
                            resolve();
                        } else {
                            reject(`Failed to calculate distance for ${landmark.name}`);
                        }
                    });
                });
            });

            Promise.all(promises).then(() => {
                landmarkDistances.sort((a, b) => a.distance - b.distance);
                landmarkDistances.forEach(item => {
                    const landmarkDiv = document.createElement("div");
                    landmarkDiv.className = "landmark-distance";
                    landmarkDiv.textContent = `${item.name}: ${item.distanceText}, 예상 시간: ${item.durationText}`;
                    landmarkDiv.onclick = () => {
                        
                        document.querySelectorAll('.landmark-distance').forEach(div => {
                            div.classList.remove('selected');
                        });
                        landmarkDiv.classList.add('selected');

                        
                        animateLabels(currentHotel, { name: item.name, lat: item.lat, lng: item.lng });
                        drawPolyline(item.path, item.durationText); 

                        
                        showSelectedLandmarkInfo(item);

                        
                        highlightLandmarkListItem(item);

                        const bounds = new google.maps.LatLngBounds();
                        item.path.forEach(point => bounds.extend(point));
                        map.fitBounds(bounds);
                    };

                    distancesDiv.appendChild(landmarkDiv);
                });
            }).catch(error => {
                console.error("Error calculating landmark distances:", error);
                distancesDiv.innerHTML = "<p>거리 정보를 불러오는 중 오류가 발생했습니다.</p>";
            });
        }

        
        function drawPolyline(path, travelTime) {
            if (blinkingPolyline) {
                blinkingPolyline.setMap(null);
            }

            blinkingPolyline = new google.maps.Polyline({
                path: path,
                strokeColor: "#0000FF",
                strokeOpacity: 0.8,
                strokeWeight: 5,
                map: map,
            });

            
            const midpointIndex = Math.floor(path.length / 2);
            const midpoint = path[midpointIndex];

            
            if (currentTravelTimeLabelOverlay) {
                currentTravelTimeLabelOverlay.setMap(null);
                currentTravelTimeLabelOverlay = null;
            }

            
            const travelTimeLabel = document.createElement('div');
            travelTimeLabel.className = 'travel-time-label';
            travelTimeLabel.innerText = `이동 시간: ${travelTime}`;

            
            currentTravelTimeLabelOverlay = new google.maps.OverlayView();
            currentTravelTimeLabelOverlay.onAdd = function () {
                const layer = this.getPanes().overlayLayer;
                layer.appendChild(travelTimeLabel);
            };
            currentTravelTimeLabelOverlay.draw = function () {
                const projection = this.getProjection();
                const position = projection.fromLatLngToDivPixel(new google.maps.LatLng(midpoint.lat(), midpoint.lng()));
                
                travelTimeLabel.style.left = position.x + 'px';
                travelTimeLabel.style.top = (position.y - 20) + 'px'; 
            };
            currentTravelTimeLabelOverlay.onRemove = function () {
                travelTimeLabel.parentNode.removeChild(travelTimeLabel);
            };
            currentTravelTimeLabelOverlay.setMap(map);
        }

        
        function animateLabels(start, end) {
            
            document.querySelectorAll('.label').forEach(label => {
                label.classList.remove('selected', 'dimmed');
            });

            
            const startLabel = findLabel(start);
            if (startLabel) {
                startLabel.classList.add('selected');
            }

            
            const endLabel = findLabel(end);
            if (endLabel) {
                endLabel.classList.add('selected');
            }

            
            document.querySelectorAll('.label').forEach(label => {
                if (!label.classList.contains('selected')) {
                    label.classList.add('dimmed');
                }
            });
        }

        
        function findLabel(location) {
            return document.querySelector(`.label[data-lat="${location.lat}"][data-lng="${location.lng}"]`);
        }
    </script>
</body>
</html>
