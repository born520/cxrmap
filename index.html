<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Custom Google Map</title>
    <style>
         
        body {
            display: flex;
            flex-direction: row;  
            gap: 10px;
            padding: 20px;
        }
        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: white;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            z-index: 1000;
        }
        #map {
            width: 65%;
            height: 80vh;
            background-color: #f0f0f0;
        }
        #info-container {
            width: 30%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 10px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
         
        #hotel-dropdown {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
         
        .label {
            position: absolute;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 5px 10px;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            color: #000;
            cursor: pointer;
            white-space: nowrap;
            transition: transform 0.3s, z-index 0.3s, font-size 0.3s;
        }
         
        .label.selected {
            transform: scale(1.5);  
            z-index: 1000;  
            font-size: 18px;  
        }
         
        .label.dimmed {
            transform: scale(0.8);  
            z-index: 1;  
            font-size: 12px;  
            opacity: 0.6;  
        }
         
        #airport-distance {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 15px;
            background-color: #f1f1f1;
            border-radius: 5px;
        }
         
        #selected-landmark-info {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 15px;
            background-color: #e8f4ff;
            border-radius: 5px;
            display: none;  
        }
         
        #landmark-distances {
            border: 1px solid #ccc;
            padding: 10px;
            background-color: #fff;
            border-radius: 5px;
        }
         
        .landmark-distance {
            cursor: pointer;
            color: blue;
            text-decoration: underline;
            margin: 5px 0;
            transition: background-color 0.3s, color 0.3s;
        }
         
        .landmark-distance.selected {
            color: white;
            background-color: blue;
            padding: 5px;
            border-radius: 3px;
            text-decoration: none;
        }
         
        .travel-time-label {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #000;
            border-radius: 3px;
            padding: 2px 5px;
            font-size: 12px;
            font-weight: bold;
            color: #000;
            pointer-events: none;  
            transform: translate(-50%, -60%);  
            white-space: nowrap;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);  
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="info-container"></div>

    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo&language=ko&region=KR&callback=initMap&v=3&cb=1735536858307"></script>

    <script>
        const airport = {"lat":11.9980782,"lng":109.2189984,"name":"깜란 국제공항","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yUeuufRu4CwK3KvcdU1e2u6UX1u8lHqfUeHsCPP8cC6sv8eoI8pNHqQYvkogiaunLvUiTAuuRl78rRUh9xlr8YamywOQxtbvUS3ai2FSMnX74FwyqMOVaWSt4k-IMIDNiarBcJnEW_JwBca-1VK3Deh2aUKKup4X-568jJuAeCkqh0&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wxvba5wnEDvSnUq5dXAmSlOwvUDNTw3pVpfZR5JyARHSsn6yrj-RdsNAzAsgKcKLwK03mHbRaqehAtjH-uUtmWSLvehvfyprJYxJhDUMdTCaWL9UsePRAzxMm3hppHwosIpCN22A7md5mcS-K_V51ayrd2mlVQeUV-4tt6VqABFC77&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wVeieLQHzTbaLfpxRzN58026oPbOT39YdJWezmk8oBwISDPmjQosoFWdrGCIKqA7j69RxCYcQfHJQSSm_E35xsFZzcKHiGVgnO6VkT-MtFkoOlmHgu3KXGwrQ0opVX2HnPNHB8_Uehk-Qt4YedROVM3ZXQPpuh-8qe_uo1uzQ7Fgqs&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27ypF9cTy_sd5rMkGE0iBZ3IKr0VzzWklM35a1jOPBTuuA21-oLdIRGoMqN6sGKunaHC87zZFVpxqBi5UjvZ0xXX50onKbP6JbHP-Xw7hXnphg_QUCi-bDDrkc1m9gC4pcoekbg7FrnIb2njHKEkreHJoj3XzO7prsVTEYAVN0PY-3k5&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x7UqOW0eHNY2gS1C7M5_qJyj37h6V_UJz_f-BGH0RZlW0U-xQfQCF_3W-k4Tccn3hFv_Ypio-ci8LDmbH5JFERauArLqZa_E44ybg_sn2rBywavEFhDKCg6jjBAMINGUGVxBNauTxdrctA6e-MVO5zU3iwg_Cp_xgCTee8oekw57Su&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x3LyGSLNXxt5oyJ5pCaDCZdwkeiUAvhoe9Fipx5Bwo041wso5yhLFxhukirJtNAA55mp6cgXU0pjFiu_Oab5JBAEKUgUwNZBlryqObCgSjfloFs6GinPMcEDWCf9Gf_veJ51BXcjk3FLGd5w5fpZKFv2ec_nKPUUzXkKQU6dR7FExB&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zqhsHY1oGTVtBH1q_gk49NKzbEuMOj1kg_MpXhle7J7FuWHKP8MDvzX8BfNtBfOUcju2nJYJ65-o351TMxS3709vB49v-VHJCiE_QFE_xKGReaf836-pY6gkZO6CMaHI5w_VXXyoJ1SDezbGdjUZTV5aDOXO0hYJKJcgCKHwjDtlNm&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xIDMzs5C7kP5yvLrEB7bMCmHbMGzOTuUUYY3SwY0fgH1hnz1RgFDU-w9NVhoIxiS7_aCb-83kgBPbQdQSMefUdh0tbJD-KxZp8-s9PJDNkK4xcAMYRHFteQ1pImYgL3RMXumruG-gVJm_DUcfzMVO2A3LjfiqoNs_jHFKWo6iIhKa1&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zNAGc8ALeeIXTzG6hG04dJbvuHPlOCHkp8D8en-imRChl4KEaTel1DVk9MmUsAcoRKmto_o-F0UlH3dE2LSiQrUx-GkzHWZTSCKK4oYGG8WlAXlBkOBquWBwPTCzTXA6V199XBebA5AaBQetnwe8PDetw01nFpChU7e3sqWnFLehf1&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w4fuCZn7aOm9PTVgtD61naPqZyItkwK3JOrmq8NOGegvEp17f_8RBvR1pPs_D637xyULBohfMPz8CDQH4qymDpBdRaH9Y7o2GgHBtYO0Jx9ZTViWd9QwQ9a84NxPdgFTfsckpoPHoAj2892vh9CMWREKBVGSsIIsJXBI6CmG3IBpQ7&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]};
        const locations = [{"lat":12.232931,"lng":109.1970385,"name":"빈펄 비치프론트","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yaPHESyc9xL6GnR4Cb1eO90tLuvDTK-YInAVZ-_yWt9rZwIQGEhZ8gYMGOmqiN-g8GpqkgSyQv69rxjnCCu2ecu-mz4Kocr1x2x-0ZkXLqxjWMhKUELTd4uffDMJn_gX5qsdmO-aSSuLTWcUicFyfUpx-K9eiSMLkt3sWN6xslB-hy&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xoFgv9qPIliJvdK95g1RKXjnrYD42J-NGJoqJox0X1eMfC_bj2_gK599Te6vv7t3PA_8f5cW7bOxw3-UlKBueXmkvDzhEIGxDe5OcY3BBvDK1aTU0SSyGY9XhCWWxLHmRbJUlY19XWC0Zqn6KoJPIv8C5cXEe9jXMa4iiLgQ4nzUwz&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xu08StY70CI346sTEy7MLULcb64pwwG12mI2dwxR4oHs9wS3LQS9Eai0efknT0EG-yEyDneqcZXfSc2O8gcB84aobptXXZ9wL6PRgoh4hnWE33G7m6aD9dghiRiEpRGdU31qsQ4Dp0PZU31phrv9fcBHNx0So_pNThDpWdmoNSxT6k&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yVq5DB94oG8l01J-VSTLoj7tWCKNRZmFoWqxveLDV1A6heJqcV2YsS8g1UaOiSZ0_a9Lvp9ftMMhg4hfEB1Kyj8Yu3PyUpqZqz3D3IZLm-F9XSQB2GW0zDzCEj-a2P7mG_dV5jX2aEI9NI4K8i-aEaaH9qsx4TMluXSgupfnG44Eqh&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xHW9dDPYyiJNtSUh-Ev-X57rlSaKnyeo-N0tZsCUmcBijkwG7NlBvFse4ZBRJBHU3GDAEaKBhW8bBboPhtu5yTQX46HXl1hyDMlVwYe6ZLGxGClEl94meO5_Sqve_1B4Ll4NWU7BvtuUhddAJVLOWPbhx061Pv1nttgeH6i1Sfjeg5&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27z1O9vlAClEzvPvK_MmEtwjohOxeJ_Z_CyFBSDbQOpvDT2rjOyOFZIK-A-K-h6037VKYBpCDxbBy7tjjHvi1BFt1oz4owwkJX3Ry3nwWdy-gsmyjTH7qXFbUwSzGNd2uLJ51xJdWhF-r7Lt5SnsqbdiuN9seGslQRycQd-jcQ95QOfd&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x1muq9mFUma1Kn_hLOSm_aolXNHIkCQ2N96Iof8Tx8bZDA-8y65FFaFi74AU3ZgCbZUTIzBWAnSmBxxJCAsjioddWYc9sCMG25zNSNszJTZhf0YBynhBRapUMCxwXhdtQD7dXKJzk_Ce7ozVRDVX21U900jBEceKKciEJLQ9ztyx81&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wc11ACpURqSFwDjGlN7tkGQ530wJIkgOjvM4xQZAlR_ffgV4rIjSAg9ecSmnPeFsVkC7xljtF8MNXMaOF3u5PiNky6OmwRKRd7nzPQYYHfmRz8ISFgTnBn9en-VnfLbcTLBRy2Pfq6f0zuZycIc0qyyG71RdqML0huB9K9sl8Xucct&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w3O6hQ4vozgoCjjnLqrolDEMHwlOipmlQKM_G7yoKE1kk1TAxNnIGm_HI093OyET5GChWvgDAWmxttyrQd_rlnOV9Caq-3UkJrGrQpuxGB_wMVK4xAUoPkB6fJHzp0CKWEK6fDC4MxKt0L2D73miL5VKIpwdHq52noEieIeNwp_vq8&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xqtKePUIVsCww05tNApBDViWmmXkV1og03mMe1__EDU7p8oXGKvTGQUEy2UgTM3ZQF7psRtGWXtq7SakyN8lM6bPRz5JbH0M_vTKaMi_TR5OgLCyZp1SzKma-KlKv0VNYj5wQampOYp9ihyMqNQ964OplKoEOGmiZZ3ewzl0oqXEsV&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.0864644,"lng":109.1924853,"name":"셀렉텀 노아","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yAJbSRM_-nt_5-V1VQBylaMfv3d0juPWGvY0b5GAbmF-viGNma0g1aOp4mNqjvDREqapNjQBeaAFeZnchLeYW_LuVD04phvNNgYf9aOwqtLYHNcFvUPFDZZVDQO2f0h3sfTV5n1Qkt9mBSNhPmfSGXF1Didc4pjsJOizeE_FEwmkM&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xbFTnDX2ALnpp-lirrgcOnrKJoJKyTNB5zkeQbvnoB0m14XeSv0iv_ejzDEFEPlvP5GDU8EZWzBapV4PrM78sbH8BuAaWZHf52XAFkFm6rI0cYw4RqD_Ph_zPafzvf_RysczprmZ9W71zAEFwDwHHif_wiXshWiylnP4P4e6BOjscj&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27z2twymlyzN909dMs95bx-uVbpIUgVSCo0pXUBTr7T0ixpAwJBOkDMUTr3SrmKzWxBY_DnzklaFNnCHvn_QKBxMyhrC7d-FUoF-Xe8pDDuwgZxVwM7Lj6f1xgUrpsW7agezN4KjrGzETd__fEsnDxAd-ExW7aLP_OltZ0o91FXWob__&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zZbtVpoOWPxFsFgw2q7tOLxAEavVKBAZSTJMmmVP6d-7R4wRGdC6v-NzH9DL5Vqy7M7sLuaaBiG7tbpSgxu_XXSTHewk_TATnCcWQlVUFYK3NJWhdUzETBPgNx1Bb1dOWgUB_Ul3fmi_D1gUk3s25voR3vt_b8vGjyZkbhyp8tkGws&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wowlw-XEmT1Fc4OtlWjzzDSEmNF8S8teCpxrJTAqxp3VxoSZ7lkHL4Ljifsw2V_yzW3CBcZJyeu8aTCMVOADjoRXx_qcAzWKEfYpz9sT4ukn49GmHKGtkhE6zAjQmLrJfHhGDkevSpdnffy9E7KzQlnDsEZOHbZymBIl6g_0fwqS_B&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xJ1q3AmPJ6jiSRgKuWoeE1P6Y7iZ8C84AQXnEWlnnR8bCDjK2MU3TsK8N3pAdk6hWavJ-FFoyRD2fUX1xtdYV3A_UyflLS8yjxl8y1GjY2a3hfyAD5HI4dkyn6rNfhEc2kK6Bz3Zvv3tWGzgYeGhBvPe-2nt1cSxjZ3IfFOM9j-pIU&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xMZpzdCshZwl4SpBBUjmntkH9iS0NYeMW5trkL5v3YaNwn70CoAIsSQ1XquXK4DxGOgIw5MXly8eyUk9m5ZDdQ48vhTphs0qkava99R1_5GTMVIXDpfUcmmaHrS4ynq9Nl0WGrXRjL9TT5cV48k97rdOpQNlPydpsW5j36fT2-8uMo&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x5lQpoJPgDSAPMTChrW8GfWMfzuJE_YzOr16wC7AQTu38xy1OG3glspaMr_hRCJ8Mm_JrYJeoisvA78kTHbqpiaQ6H0nbMCRnwSOBNXxuKJ8997WNQNTxFW0ufHQQ0-h6CpEiOV_m5WKefu23_Ktu8DEV_5LUJFPpUArZTYiXbh9Xt&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xNSa5Wx5-zvogKYyhDM5vsYSuNQ4-K-1vCY8qP4OKL2IS86FMH-RQknhLpEyTfUDLpeNPczVMAy6wiMrRXmC9O-a5OdwhHL3SjEUTluKTuABV5j-STjFBMjKQv1CFKZC_tA6ln-UdZJKQegq8HEL2RlJZ_UrofcCZ3IOJw8KL14CT0&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xQEUcEs4BboqYwPJD8e6mWrysMbDsX6hiB9090EiANQYoF2drbxZs7dgXNSCOxEYjEFNRhPJKCsAtWKCmyIfMlz_i9P7pktnsTIArVxUckwD0RP1Z-ObXI1vfJ1z4D9PN0B8CikBIbWlIUBZXLIyvpa9BX2YvW2b9eeG4jSU8GzgzH&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.3027211,"lng":109.2390543,"name":"그랑멜리아","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wkUMFNyIbom4Lmp1N0MKxuvtIECxH21xMXrb38cbpvnAa_G6Nb4fz4qE_dPtiLHIr9l8XBsqndJg6FO5W7bzKGh54OGQupXix87JeVo7uD-pgSgh0SYyfmomr4MAsIcFNHQczPvz86PWLzQeIuF08hDel13wK7G1FpIN2uICoeUH6T&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zJ9AMgNrE1mIS5WZRRIe_4WH9TWM5hIn67REmyl_jEZsK5h70SZWYT4FQdePc6Te8Os7BcGutZXWALXM2CDC1lqNQMsSbVK88NZl25rJxa0puf0aaDEJxuCkwvfslB4ybbnqJ-aTPBjILYsS8vNVoxH8ff5wr7TcLc47SukmeOyaPy&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xfGVARpwCYoUL1kWcZa6xxBmdCg9OTIq5agPaX027gBSpT0cGsCMupQwtS9l6rs2NbiZpLAIbsb_0m6hxOrb6DaDAmCxk8rH51x4AyhbGujQxkyJMq_pIlPM8FGzW4Nx3RU8OZ0tmpXW9OT-CUGwGjYxR1833Oh5oruU41XSQ1VmrB&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27ycNaT8lrQZhjHxVz-dO3bBrqmrDGpYDPxEntDvrj7vvgMDqwlQheKmq95lkzdCor-av2UMRts4ASgT0jcrgn_W7q76DyL_2CILEIBt2ZUQvBVnep2uC0vNUVBV0iJS_UnWFU6Wy_3p0P6sApJQoWYNHGRho_-bqIs-UMJSUDKVi70_&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y_RFi_Rh4G0tauzihyron7c-poDMxR86UjuJPU4hTRWghX-JCDjdsf6kXWSjI3EMi7E7kURXJeGP2SFjZQTZPcLqXu5BHJLaARY_Ib-e9Gn_XY7MbAb1dXgXNiYl0kXQ-lSykk_pt_EfUQX1iozMVsGFk8YQydx4IGgrYvE-PIMwnv&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wXBmoeXiG76mJ_WxKFT6f2_dxYkxMVt6ismaDcv6_vvwMe6Sq27JzFTs9eUOxpITxLPUxTDD1eXeasepXabAYYdpttoooRobSJ4uCHS8QrJ1Pf9VW4_nHYubsF5boLQyE6PgAePYo4zUzABUH4y1j7mx8KzTEap9WnnBIBC2AZcZ-r&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wRaY1wSZKcmC99WzlZW-Plx6cOfe7TKZaNorUjW5Zml9lMKPmqJ9oH7eQDip5ynduVymvU5ClFGZYyFVTiJlg2R3slbG4c1kV5oqxpcZS6rvh4Diq430dyP-jznaUUW_zYCubrgApKA_X9dOm5S1mfUdyLMqBwQAGHXMbbbCMxpP6D&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wbMi3JM2-mkLUPyOHKXVGK_eytB_0Xk37kbMVar7FHqO5pjuEX3GDCbt68hLD8KynFnBy-IUfW4VzCawQV4BeBg4tOVfYpbguI1834suT33x5WVqRhnZF3JE2Porb3gvdjIv8Wd1-ibs7i8wFObwpGxpNRBjw8CMGcTccgK4ynplR-&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yLqfv5LW0voVp0RkkBUlEdayQz-FP-wCJpWXEV_Skg4ziqRbEBnOwfCqpHRN-u665Z637LLttYGowiEbqe0YlYeS5xfjozRwcM1WSFg3QybCziHP0O2yb2lsJg8H9TyfNbH44WWutbpoCYgA00GICmtniGYkRE7qDzek5Z4Kc_fi9e&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xAf186rL8sR4nl8Ew-XjP7vO7EODxFoWUO9aJ3X2C5gQE41E1QVfkfbV897tt0xxgHYuAEsDSwKYBObYxEU1sYxHeqAbtjVd7R4bV2isHDpajQHZ_iPHCLNASTuky7CLJPVfIzpvBMz75BSM5QxVna_MCEK97nzruE_IpZ6vrl60TX&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.2185907,"lng":109.2551167,"name":"메리어트 리조트 앤 스파 나트랑","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x64o0Q9ZwhT9d9QMEKSfDSBRZJq6jVfM92Ea_aLeh5lSfGffaoi6JYvPUyKaFBsNgWqVA92n4qQX2h2SSb0niiqkNG8KoZMCPXhNCP2iXAE3tj-cJDxxlqo0s59chI5GNkjXjplGEbcSOmVxSKwa2CjKJpCZYaSNlam_Oaos4VJMFp&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zioRlUPh3ZqXfs_KW9bcm1XC_GI45tTXNkyOUtOUX9RaIJk9NcNZ3iJbz62-jWeu-RwOqAgXjzq6OIrjCdm39x3qf7s9nNqR_uVWGSMWtUnikKJBghxTCDanBbEIeXoraz_3uoYmiWkA-ZfRRZGqGpI_IMAgeL47ciLcUI2JIs5lmz&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wJgYlI-fAGIrU8buKFRnCbRZ8taSl9q__MicyGPp-d405any9qJJlh4T6FNUj1dS3fagA5YlsaBI3DZDXlKmITELsaaePCuAasdjLeY25v4MQczr3wMgJvPlXpWAoEK1Xtlaj9ZsztkVX4CIT8niMWQdOlqSECI12jW3eSKnwG9doX&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wKveM_dDRb5g8XjjeA3vjQR-QsPUuwNCEXgPZInSWI7KWuaWBG_Yr8YlHkpztebvsH7BNSqRIHKRgITXf6MXNsPKhetxX4eviUSGdUXP7PXsDaVJDonxgKcA51SAAxbpB3Eqk6RY0SbVVdnqn_ygdSk_POZVlF-C2vhxRLSDSJaTyw&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wPx3EYSvLcPRQj65Ut2ST-f3FLNI_zk975HGMut79guR3yRhFd0mFIVSKivtFJgJWCdXnvhrUbHNm2tQ7s2DgTaDQpp1visSrWwtxOgVROtsRKVaqdkrNYUUW3LDXgLEmqdS7aFY8bGCje2WDkmqrrTfnNwAOQs97FX50dkbq7fsuA&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zJnc9MHyh6DI1b2Sd-up3oEOzGKi8cb_lR9MM49WRqqlqF9dl9PG66sqtmYh2Fb8wjYs_H-IvnZXZg3eToTmzAiv7b3CeNUT2haN1dKJWLZ0jCdbcHS6Bn1Zw4wUND_F9BhdspO0sMFdiTLKh2RbvtvR4wVsDtOp58j9XFvGLzcHkE&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zWd8BGFcpORtfDAXe--dPt9VWaDJW02AJqMPnDaEYPZg0bLU_7W0iG50vC68006kF7ZkAy8BPDf15ZD_bMlRL-4TnbABX3bGRUrLjwuwvU9FpDvdi7t4wUOCgtOjnQ6egIUTKl7Oph5zZCFVO3mizjFBp7Fnv0JyXHAPg6pkxlYPG7&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wwsPvUIFuxMs01PXqtXYXQiCVDuDCWjFrflfhEmPhZtBtoVQrZxQ3zJAVB8-nr1-qVRXD_N9T8Bx_TQYJ4E94GD8l5dTfms7wyzIRT4axrfc-qtGPCZ790bZRCA6fu5jf0CT10gGM7-G51Bj6KtjimR60j8c6vegwN6mOp_S2-4LT4&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w9HiZKI_sdMvxnY8C73q-Xzr1EZ7DUvXvS90BbjPTS_H1wOBnZfEyrDQevHRnaFrELTBmbDdxGxs1VVDyVg6ouPul3f3X174bFqE8Jb6d5ThUD9jo6Rs4yfJAABFH_kgR6l2QBppzLzitrICFBZUUBEBAL_X0VTfKEobtV4qV1q13E&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zjipfa9o4hCwckzTTk_DlxNzMBw8DC6a_H8i6VbAO5LZwV5CdjDDsyQyMbfny6avTIGKzBmmmNyoEMjpBA63opvR62XqyStbR60LFsZiyEMHUSDADPgSpottucpBTXwm8Hy5xzV4sE74AXf7haC9dJuX787Oue7TYkK_aPl66OJw91&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.2253121,"lng":109.237382,"name":"빈펄 리조트 앤 스파 나트랑베이","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yhFCyAQthQRDoKOuFmjsy2TQGifhpsZEYyh1kbTTh4EFX9Y-UZH0j3TGomT9sHWjUm3Oxmt6azoUbmd3hhR4EnlAmjq2T0ad7-JTo_LNB--uriK3naZXX5m38aDNv_tf3PJ_QRfCikhsARSmshmRASxa0vassnaT_xRid3-ANYYXrX&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zB52mYmzayUhK3RI7LKlhz-vVHVg1gPFmCLI_CTTooKHnXYpTPImXfCuBWBCXDnn0fat6p-pX5aKo5MkOe_xaDQJI6fTLftnvP3a1oIvlZxWOEak9VZ82oCoFl6EM9TQqj1pWFszoOwtlq7gajoQnNG0hBXRgW9N7FQ6FRWPmAPt6u&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zxJtvugUpY9wa9uMdRmRdCR-0FaYlxCzIjeQBI0oj5QrZAEimD4XMxfD-GpCnYVKHrn3KmytY948WnsPkBmliU6yrcm2ygJwVm5hkBFoBzWclOOH_X1LxLPbTWP4hKg63ZT4NpNdFSaPM3-QrKzXoA9rCy3egE2SIl_hb_2xNiqrc&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27z6qrdJWgDekOBURICBP1KfQYnA8BKEk0C-AxZzQ7e4LDejzxXfV62i1x59OJdzbKz5VeX7oqVDFRVLswdp_W7KwhkJnyPvoMJeMKHPen2Er_W-fxmbhXLTT8qFCVuQ3F-ZqlpydteCluxOroEzBAreGG-tBETrS0W0yrVYPaHKXWGc&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xPkwHP0T0KDygpls4eFOcFD3iYDYpwMLpSUJtVwyU4JrxYxtQY3eX2lKHRFoRKgXCdwr_bEvvvX2qQfnK68HIxt3RTXC-LTlgQcl_J5eimSAyCOyLT2gz1m07hJ9zf4I5Ca4YCIzQVxXKk0Y0pEAHREGFVF1_OXr_weNA1wuKvTwHj&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27we0mimcTmUyIcrr33vMJAC2fZi00k3K6z7StpRM1l8hxSoD2sDsvF_0vzHiUc6QIFCHgS3odNL89pei0sLCAyEo9Hmu5fuBVFDmfKTECkYo_c4GaBWTy4Vj41kqGC6WNgAU2IO7MAsRXNv0h323rOQYlehHoJnB3vdhpRu5H8YMqjO&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x_zpeoQXU-v8odbEH347Z-QlDQ_tCJELO5A4w4wmg1ROk1X5Yq1popWGL1bbghWocVd1shcoW-4xEzZxlral9ZYefWjgKfxdCPY6FWAd9ptFj41Bt17S0VdZ5Shd5kCk9PFaeKSUedw_E9T3iiNs4ck7t3hbeqwIJhUuCc97is3xNl&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wp_araPc8_yE96w3e1pHBtH3rXjPaxWKaFWVnhiJ7RT6J6ePuvcNeZzQT2WepEQns2qap-lHQSWqIFJbxaGqbalF63cPR9SuneYVmRf93_S71KCZFR3d2UdBTg1hreWeQxv2N9Y1qrdeQLkSuD6UvG8Tm-AsJwwA9hMgsPGRr4uK3w&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wBB-vpYDIrapLzVojSE957G5V3cFsW2wYioFXcczQAiVzd969u626t9hvjnbtDtjS-RQvlS4YfWyrm_GqcEFyh9SCmAqcJgrxEbA1ak4kaGCYK35j6d2eCFlfj-8YPNyyziv46Z0dPh7x7uKSVP4IfjX8Pnf9EfM7MBM5NovK5Lvpe&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yYZAbOjQ9JOOzewzReoLpuqAWl1pntRDAuZFNHTDzZrbih1ByoslGjDDHc-RXR78GK57oYvscNKfSrb-XOnbuJmp3uV1qTdBqHi-wdzPa9_IIVqPcUjwTFaJqYbKUmGFEO6sNVRq-ipDCZ2aScMZg0gdS3DvTPnsc9JC6FNC-5XsmL&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]}];
        const landmarks = [{"lat":12.2400618915029,"lng":109.196151222402,"name":"시내","photos":[]}];
        let map, directionsService, directionsRenderer, blinkingPolyline;
        let activeLabels = [];
        let selectedLandmarkLabel = null;
        let currentHotel = null; 
        let currentTravelTimeLabelOverlay = null; 

        const defaultMapStyles = [
            {
                "featureType": "all",
                "elementType": "labels",
                "stylers": [
                    { "visibility": "off" }
                ]
            }
        ];

        const normalMapStyles = []; 

        
        function initMap() {
            console.log("지도 초기화 시작");

            if (!locations || locations.length === 0) {
                alert("호텔 데이터가 없습니다.");
                return;
            }

            const mainHotel = locations[0];
            currentHotel = mainHotel; 

            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: mainHotel.lat, lng: mainHotel.lng },
                zoom: 14,
                disableDefaultUI: true,
                styles: defaultMapStyles
            });

            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer({ map, suppressMarkers: true });

            renderCustomLabels(locations, "호텔", "#0000FF", "hotel");
            renderCustomLabels(landmarks, "관광지", "#FF1493", "landmark");
            renderCustomLabels([airport], "공항", "#008000", "airport"); 

            showHotelInfo(mainHotel);
            showRouteToAirport(mainHotel);
            showLandmarkDistances(mainHotel);

            addLabelToggleControl();
        }

        
        function addLabelToggleControl() {
            const controlsDiv = document.createElement('div');
            controlsDiv.id = 'controls';

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = 'toggleLabels';
            checkbox.addEventListener('change', toggleMapLabels);

            const label = document.createElement('label');
            label.htmlFor = 'toggleLabels';
            label.textContent = '주변정보 보기'; 

            controlsDiv.appendChild(checkbox);
            controlsDiv.appendChild(label);

            document.body.appendChild(controlsDiv);
        }

        
        function toggleMapLabels() {
            const showDefaultLabels = document.getElementById('toggleLabels').checked;
            map.setOptions({
                styles: showDefaultLabels ? normalMapStyles : defaultMapStyles
            });
        }

        
        function renderCustomLabels(data, labelType, labelColor, className) {
            data.forEach(item => {
                const labelDiv = document.createElement('div');
                labelDiv.className = `label ${className}`;
                labelDiv.style.color = labelColor;
                labelDiv.innerText = item.name;
                labelDiv.dataset.lat = item.lat;
                labelDiv.dataset.lng = item.lng;

                const overlay = new google.maps.OverlayView();
                overlay.onAdd = function () {
                    const layer = this.getPanes().overlayMouseTarget;
                    layer.appendChild(labelDiv);
                };
                overlay.draw = function () {
                    const projection = this.getProjection();
                    const position = projection.fromLatLngToDivPixel(new google.maps.LatLng(item.lat, item.lng));
                    labelDiv.style.left = position.x + 'px';
                    labelDiv.style.top = position.y + 'px';
                };
                overlay.onRemove = function () {
                    labelDiv.parentNode.removeChild(labelDiv);
                };
                overlay.setMap(map);

                
                labelDiv.addEventListener('click', () => {
                    if (labelType === "호텔") {
                        currentHotel = item; 
                        showHotelInfo(item);
                        showRouteToAirport(item);
                        showLandmarkDistances(item);
                        animateLabels(item, airport); 
                        document.getElementById('selected-landmark-info').style.display = 'none'; 
                        document.querySelectorAll('.landmark-distance').forEach(div => {
                            div.classList.remove('selected');
                        });
                    }

                    if (labelType === "관광지") {
                        
                        animateLabels(currentHotel, item); 
                        showRouteToLandmark(currentHotel, item); 
                        showSelectedLandmarkInfo(item); 
                        highlightLandmarkListItem(item); 
                    }
                });

                
                labelDiv.addEventListener('mouseover', () => {
                    labelDiv.style.cursor = 'pointer';
                });
            });
        }

        
        function showHotelInfo(hotel) {
            const infoContainer = document.getElementById('info-container');
            const hotelPhoto = hotel.photos && hotel.photos.length > 0 ? hotel.photos[0] : "이미지가 없습니다.";
            infoContainer.innerHTML = `
                <select id="hotel-dropdown">
                    <option value="">호텔 선택</option>
                    ${locations.map(location => `
                        <option value="${location.name}" ${location.name === hotel.name ? 'selected' : ''}>${location.name}</option>
                    `).join('')}
                </select>
                <h3>${hotel.name}</h3>
                <img src="${hotelPhoto}" alt="${hotel.name}" style="width: 100%; height: auto;">
                <div id="airport-distance">
                    <h4>공항과의 거리 정보</h4>
                    <!-- 공항과의 거리 정보가 여기에 표시됩니다 -->
                </div>
                <div id="selected-landmark-info">
                    <h4>선택된 관광지 정보</h4>
                    <!-- 선택된 관광지의 거리 및 시간 정보가 여기에 표시됩니다 -->
                </div>
                <div id="landmark-distances">
                    <h4>관광지 거리 정보</h4>
                    <!-- 관광지 리스트가 여기에 표시됩니다 -->
                </div>
            `;

            
            document.querySelectorAll('.label.hotel').forEach(label => {
                label.classList.remove('selected'); 
            });

            
            const selectedHotelLabel = findLabel(hotel);
            if (selectedHotelLabel) {
                selectedHotelLabel.classList.add('selected');
            }

            
            const hotelDropdown = document.getElementById('hotel-dropdown');
            hotelDropdown.addEventListener('change', function() {
                const selectedHotel = locations.find(location => location.name === this.value);
                if (selectedHotel) {
                    currentHotel = selectedHotel; 
                    showHotelInfo(selectedHotel);
                    showRouteToAirport(selectedHotel);
                    showLandmarkDistances(selectedHotel);
                }
            });
        }

        
        function showRouteToAirport(hotel) {
            directionsService.route({
                origin: { lat: hotel.lat, lng: hotel.lng },
                destination: { lat: airport.lat, lng: airport.lng },
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === google.maps.DirectionsStatus.OK) {
                    const path = result.routes[0].overview_path;
                    const leg = result.routes[0].legs[0];
                    const travelTime = leg.duration.text;

                    animateLabels(hotel, airport);
                    drawPolyline(path, travelTime); 

                    const bounds = new google.maps.LatLngBounds();
                    result.routes[0].overview_path.forEach(point => bounds.extend(point));
                    map.fitBounds(bounds);

                    document.getElementById('airport-distance').innerHTML = `
                        <p>공항까지 거리: ${leg.distance.text}</p>
                        <p>예상 시간: ${leg.duration.text}</p>
                    `;
                }
            });
        }

        
        function showRouteToLandmark(hotel, landmark) {
            directionsService.route({
                origin: { lat: hotel.lat, lng: hotel.lng },
                destination: { lat: landmark.lat, lng: landmark.lng },
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === google.maps.DirectionsStatus.OK) {
                    const path = result.routes[0].overview_path;
                    const leg = result.routes[0].legs[0];
                    const travelTime = leg.duration.text;

                    animateLabels(hotel, landmark);
                    drawPolyline(path, travelTime); 

                    const bounds = new google.maps.LatLngBounds();
                    result.routes[0].overview_path.forEach(point => bounds.extend(point));
                    map.fitBounds(bounds);

                    document.getElementById('selected-landmark-info').innerHTML = `
                        <p>선택된 관광지: <strong>${landmark.name}</strong></p>
                        <p>거리: ${leg.distance.text}</p>
                        <p>예상 시간: ${leg.duration.text}</p>
                    `;
                    document.getElementById('selected-landmark-info').style.display = 'block';
                }
            });
        }

        
        function showSelectedLandmarkInfo(landmark) {
            const selectedInfoDiv = document.getElementById('selected-landmark-info');
            selectedInfoDiv.innerHTML = `
                <p>선택된 관광지: <strong>${landmark.name}</strong></p>
                <p>거리: ${landmark.distanceText}</p>
                <p>예상 시간: ${landmark.durationText}</p>
            `;
            selectedInfoDiv.style.display = 'block';
        }

        
        function highlightLandmarkListItem(landmark) {
            document.querySelectorAll('.landmark-distance').forEach(div => {
                div.classList.remove('selected');
                if (div.textContent.startsWith(landmark.name)) {
                    div.classList.add('selected');
                }
            });
        }

        
        function showLandmarkDistances(hotel) {
            const distancesDiv = document.getElementById('landmark-distances');
            distancesDiv.innerHTML = "";

            const landmarkDistances = [];

            const promises = landmarks.map(landmark => {
                return new Promise((resolve, reject) => {
                    directionsService.route({
                        origin: { lat: hotel.lat, lng: hotel.lng },
                        destination: { lat: landmark.lat, lng: landmark.lng },
                        travelMode: google.maps.TravelMode.DRIVING
                    }, (result, status) => {
                        if (status === google.maps.DirectionsStatus.OK) {
                            const leg = result.routes[0].legs[0];
                            landmarkDistances.push({
                                name: landmark.name,
                                distance: leg.distance.value,
                                distanceText: leg.distance.text,
                                durationText: leg.duration.text,
                                path: result.routes[0].overview_path,
                                lat: landmark.lat, 
                                lng: landmark.lng  
                            });
                            resolve();
                        } else {
                            reject(`Failed to calculate distance for ${landmark.name}`);
                        }
                    });
                });
            });

            Promise.all(promises).then(() => {
                landmarkDistances.sort((a, b) => a.distance - b.distance);
                landmarkDistances.forEach(item => {
                    const landmarkDiv = document.createElement("div");
                    landmarkDiv.className = "landmark-distance";
                    landmarkDiv.textContent = `${item.name}: ${item.distanceText}, 예상 시간: ${item.durationText}`;
                    landmarkDiv.onclick = () => {
                        
                        document.querySelectorAll('.landmark-distance').forEach(div => {
                            div.classList.remove('selected');
                        });
                        landmarkDiv.classList.add('selected');

                        
                        animateLabels(currentHotel, { name: item.name, lat: item.lat, lng: item.lng });
                        drawPolyline(item.path, item.durationText); 

                        
                        showSelectedLandmarkInfo(item);

                        
                        highlightLandmarkListItem(item);

                        const bounds = new google.maps.LatLngBounds();
                        item.path.forEach(point => bounds.extend(point));
                        map.fitBounds(bounds);
                    };

                    distancesDiv.appendChild(landmarkDiv);
                });
            }).catch(error => {
                console.error("Error calculating landmark distances:", error);
                distancesDiv.innerHTML = "<p>거리 정보를 불러오는 중 오류가 발생했습니다.</p>";
            });
        }

        
        function drawPolyline(path, travelTime) {
            if (blinkingPolyline) {
                blinkingPolyline.setMap(null);
            }

            blinkingPolyline = new google.maps.Polyline({
                path: path,
                strokeColor: "#0000FF",
                strokeOpacity: 0.8,
                strokeWeight: 5,
                map: map,
            });

            
            const midpointIndex = Math.floor(path.length / 2);
            const midpoint = path[midpointIndex];

            
            if (currentTravelTimeLabelOverlay) {
                currentTravelTimeLabelOverlay.setMap(null);
                currentTravelTimeLabelOverlay = null;
            }

            
            const travelTimeLabel = document.createElement('div');
            travelTimeLabel.className = 'travel-time-label';
            travelTimeLabel.innerText = `이동 시간: ${travelTime}`;

            
            currentTravelTimeLabelOverlay = new google.maps.OverlayView();
            currentTravelTimeLabelOverlay.onAdd = function () {
                const layer = this.getPanes().overlayLayer;
                layer.appendChild(travelTimeLabel);
            };
            currentTravelTimeLabelOverlay.draw = function () {
                const projection = this.getProjection();
                const position = projection.fromLatLngToDivPixel(new google.maps.LatLng(midpoint.lat(), midpoint.lng()));
                
                travelTimeLabel.style.left = position.x + 'px';
                travelTimeLabel.style.top = (position.y - 20) + 'px'; 
            };
            currentTravelTimeLabelOverlay.onRemove = function () {
                travelTimeLabel.parentNode.removeChild(travelTimeLabel);
            };
            currentTravelTimeLabelOverlay.setMap(map);
        }

        
        function animateLabels(start, end) {
            
            document.querySelectorAll('.label').forEach(label => {
                label.classList.remove('selected', 'dimmed');
            });

            
            const startLabel = findLabel(start);
            if (startLabel) {
                startLabel.classList.add('selected');
            }

            
            const endLabel = findLabel(end);
            if (endLabel) {
                endLabel.classList.add('selected');
            }

            
            document.querySelectorAll('.label').forEach(label => {
                if (!label.classList.contains('selected')) {
                    label.classList.add('dimmed');
                }
            });
        }

        
        function findLabel(location) {
            return document.querySelector(`.label[data-lat="${location.lat}"][data-lng="${location.lng}"]`);
        }
    </script>
</body>
</html>
