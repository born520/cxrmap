<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Custom Google Map</title>
    <style>
         
        body {
            display: flex;
            flex-direction: row;  
            gap: 10px;
            padding: 20px;
        }
        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: white;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            z-index: 1000;
        }
        #map {
            width: 65%;
            height: 80vh;
            background-color: #f0f0f0;
        }
        #info-container {
            width: 30%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 10px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
         
        #hotel-dropdown {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
         
        .label {
            position: absolute;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 5px 10px;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            color: #000;
            cursor: pointer;
            white-space: nowrap;
            transition: transform 0.3s, z-index 0.3s, font-size 0.3s;
        }
         
        .label.selected {
            transform: scale(1.5);  
            z-index: 1000;  
            font-size: 18px;  
        }
         
        .label.dimmed {
            transform: scale(0.8);  
            z-index: 1;  
            font-size: 12px;  
            opacity: 0.6;  
        }
         
        #airport-distance {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 15px;
            background-color: #f1f1f1;
            border-radius: 5px;
        }
         
        #selected-landmark-info {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 15px;
            background-color: #e8f4ff;
            border-radius: 5px;
            display: none;  
        }
         
        #landmark-distances {
            border: 1px solid #ccc;
            padding: 10px;
            background-color: #fff;
            border-radius: 5px;
        }
         
        .landmark-distance {
            cursor: pointer;
            color: blue;
            text-decoration: underline;
            margin: 5px 0;
            transition: background-color 0.3s, color 0.3s;
        }
         
        .landmark-distance.selected {
            color: white;
            background-color: blue;
            padding: 5px;
            border-radius: 3px;
            text-decoration: none;
        }
         
        .travel-time-label {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #000;
            border-radius: 3px;
            padding: 2px 5px;
            font-size: 12px;
            font-weight: bold;
            color: #000;
            pointer-events: none;  
            transform: translate(-50%, -60%);  
            white-space: nowrap;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);  
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="info-container"></div>

    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo&language=ko&region=KR&callback=initMap&v=3&cb=1735536745060"></script>

    <script>
        const airport = {"lat":11.9980782,"lng":109.2189984,"name":"깜란 국제공항","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yqIw22O-BoWRgYgEqkgDP3FO4ju4Y8g1pgwsRZ5xOcbqFNcKMjD6NwqmOmnfTUPTOOfT6SxftC9dunX4eZ6TA9NoINP0EjwDdPFcv4OzMa2My5PDiiiGDW-Q1gBDKRg0zIpRaWAqVq0MGCGxMXXRyDi7nZ1t2lEjaH_8zXEpHn40lm&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yv72jL8u-n1ugsI0vOp6Ed6xqCweAc1iS4FB7hY1XciD10GjkTUs27RCoOc8uyZ28iaUkWpSKwDVSx4F9x8cmIsczcPE39zKr6YqvhqOOlV1qt0d3vgWZd9paMtSAFCIQfd8NiiZjTFVtvQ-WEfu-2BYAMEKTV6bpzzF35edn4XzaW&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zBPKaCjejRql6KO8vNNU9pZt6j0_VYIQLtXB-rU_8nlJXx-wYNTHnPoD3a1Qx4CgjjPyIx_qaMYlQUZOGInS7zAXRhLPMiNrvutG64oaTDlERh8dLA-5t53i2e1jRO33MwOHw2ZTKlBb_pO3Tmb9GSlbSFwSEnSwHeIsFEsdvkzwzr&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wj_1bcqyf8CkIXhAkJQndpf6dgXmRrYS3GcQnQwtv_2YQbkdsJeoilZdHuwT36exzmHYotYSFDEHfNYts9g5LsQc6UjF1u4_1PBd3uTfSNkdTUKEkHYGyJKhiDzw3HAWwmet0UaF-HjnsRxbihoYq3ySCFiIYNxjRq_ajTOTBgrWem&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xBsfwz9xaQNDlmkatoMVu5i5A404wBql_40t7AJxKfxfCSXB-ugCz1IiW2KW_WRSJcJ7G1MV1j2PiCDsL1MUvpBCJa19aIwtDzJEXHQLqH2lXVDwYnA8OY3abKjty5J8llJnDYPveUxAXnUY9EWVlGJff4PDOkn0gnL2Jqucdumpk7&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yMHsuCGEnk-Onn5NJf_hcBR5rpkZcWH-FlCjyj_z1ZcHlI80RnipcuXjI3fzuZg58cWfMWYiJKo4IeeDeh7H-tYSJDdd6I_Q5MPAXxaVxJcE2TXqsLwlgbzRHBWslSDOPa2hO8P0teYLO5Zq6-uNYDVaVdAKVKLOLNa_7TxcFTF-sj&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xs14mThYFPGIq7lesSSW5_yKWonPbbKwTSj3Qayf62UP65KkPASZR03PTjTjX6sDIKbHzzW6VL_E7h4OJ3RQlo37ryGMN_vMT5E_mbZOyqunscxDMztPgp5yGLKsCJLXlkM30AtJJgskIZgbiLFZbC38F2TCNclgXs8nzE6_GvXSzy&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wA0Z62NPkQ0k0VQ0Rh5y7U7EBRSTEdHRzaVKit4Bon_ZQdWzJOaf1IM2lJRAkdUS4bnSSaHwzIIw5WRw3c3qUnE9jLEYoTpZQaWzCkF5jzBuzbLcVRI1CM0Z4TJnlnUOB4IIGDEBcmJ2hYcnQxAB4sM-Z1vWHVIS2wsj2ejVx9xmeh&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wTwvMyMu73sDOl5Z2aAkjeqiEyLeCTIKK52dtqSw1kx-_GRTwFcHyEjmx-sT30Ky7BovpsshKQZ0kSKmk5O4THLra-30xaQA1JN3kRSMUnGfoxfsAkSrq-lSyIhjT_AgoMXsUj_1kQFmh4nGeANUmjGSXnk0O3tzGf3znwuSwfCm3L&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wsb-ThJeNpYgS7NyKfpYhnMoEP7An78jodpDSLHOxq1PlqLfjfgXseR5RrBwGxeVlo_QPdEm1OxpS8HV1aRnmxzCZMXSaMnQL9EpNrtNFAnhPcwujI6Ueacp0SWpxkxG71rG-2R7AUZe2fVQfzJPBSr6FZz8rb3_DuTdVU1ut8wo9j&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]};
        const locations = [{"lat":12.232931,"lng":109.1970385,"name":"빈펄 비치프론트","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yvF4MS74_EA0w4wVkxVeyfHP5n6LTJ5POomhkMhxjJ-MILdrWM8mcSWWuZCsp_IgG4jE1jewrrN8MjL92TnMUq64--ZM8lfZ8TftLQOGJSJy4fnj9rAWIG2o2g4JSJmCBM0C61I-DJtLdupCsU1g18yluBllYd86IBD6gdnxG9hrd4&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zB3p6kQ_zmlLDAXFvyG9KpVzwZu9-pNVde0ip5AhQBTpKCd3OcLLBvxCMT-KInnxLHLjioLX2Qoh0bGXjUpRVJcCpBlyRBYbSpZcrMu4ulZ6ffHP530gDuvQ8i3kaWyVE5qSJErzleWV2auKgD_5pzycxysxNHq-ZL9XR8nEgOaIOB&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y-TK5N6OoQbXojCV2bJBQ9z5tJk4ngTaaEDD3dRyVzZV3mJHOCvQe4bhpWB1Iex14lonEewJvXSgpwv9ta9oTQY8visOpOwNVV1nnfEy0GwFMOFeR3Ws_6GJFfa8P2Px4_1aYk8nNxqruOiHRyloKqSodnYZh_rFbIY3vVX9d10mSQ&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xV0k7Ixfby44P71HhIyqKeCKPuMgyHpDBLLoQ7DmyFjNBrh437ydpoZ_4vPHYufW5EqTBW7t9Ivj2YugVYIFncZCo3O6Pa31KVhtDvz1t560JuGcf6pE16Ai0XD0C-E39bGLBpP-3pfjqDaWESFDgrms9cMZoXq6fbZtESt5O9cLnL&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27ziRtl2jC9k96_vO4LGjDj355a6icCUHvOnV2zrhCP4vMQZf5MgnehbgacJyLQUJz45Cb4N6MR-L9h1-BHJxyg4efY_qIEkTAu6KLQv3tW64T7WNDz3a8NtW6HoPMuuFY7De5SAIStcfD1NGv_KwcwPf86N5z5fKt1JnAnydLnZj8Ko&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wjtU61AOW7FXGcXnaLX-Vxo93eQfTIIWHLmBkwqT3271scF_oQ5y6WIogIHejuZvfwaT5X2UszMlXuft7REzx0d2TfSkSe68V2O1EKONe9zTK7WIU6Tz2YCwHDqUYoSiHXKva-gbvvK51-soDgcyRR0cgDUWxUvJRMJv5UwF3fSHDE&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xTEufUNv03oBX83B83JQE7Ea4IsHIzJdBGLo-NIqPf1E8RCUcF0rJMT6JoBuBPRLQLhBk62m4ntuYCj3DtdGhrS3bEqb15SN8GdkKKYdNpC5MFOkQHmoPLqpNfdlsl5tRDVlgsRJJ6J7k731TQBq-x_hyGqy1EHxh_K-W4VsFtn_pK&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xX3w43hbRMC-7s2tH-aeA3RVdtYCu7jmucMTTLovbDRn-GSE19ubi1Sd0I1Npw4J4m8RNzYXxh-1Qijo_CKZ_Wg7rMtej5Tx3RfC7J1bnZSe_UG6TrOPeotCiDHKaSBI0W1HP83efZIflr0QlfNuzrL3h4k8vs2o7b9jq0P412_eju&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wk_IBX_K0cJcSsRxDeZNRFseqj15Ev5NiXsmegnNloY7U7QjnpVLIQ1QEPOCze_Mf7EfoX4nbSpeLrrE6x2SESy_bXwsKIYhDD4WR2YXsWXNYJk1qStdNEKPlZJE4YR2U73718teG70_M_miHZJL2Z6kytF3KDDS7P8_SErzZzR0kP&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xQ197jxcgm6SqPahlhokMS_INM7PLlGR06yq6ag6jsyjf3TMztFdvwRFPcVW__WA_tKeKnEqdCVE6hA-GFOM6WTRO5p1ZcEXSpokm_oCWuv3t82RFn9XOHSOcZjotnfMBPmw3I3l7eZUe0ut6VM4ihCRNHVemxxxXXyO0Ae-WwYw56&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.0864644,"lng":109.1924853,"name":"셀렉텀 노아","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y6gMISOP_QhDoKFgpK4nJ8-GwOPnpiXAvGil_3x58HYuArn5S2td1pye2IyBwHTCzHfQXRsvGxVVOfh83TJedLVF5GgNM0DFC47meITh_yrogYf1NgbznK84I8k9Tv79kP2rf5W6PPRRqsheyKhL7etP1zePeK4OseeiibKvYI8pg&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27ybUaXCfN1zT4xC8L-49MFWG6Y7l5bqAeJpD9Daitr3NhpDZtEQB5qOl7-GXk-cG3K4zbgVR5oax76ZllqiCrfYhzHLbsTUCtAT-hDOWl6DwpOG_1xDvvEmTdEPcWEczEM9thtxUBLFvUM3FpkpU7evZyM9pzKyvyp9RmJ6t733CGbr&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yzwBhQF9Fv1E79nuV7S3PlHaTH8wNbTSjqsJ2t4ZRI8bOP-hu85_myKtolosqH95G8WB7jTGf8Y6-QjRrpJRj8_dyiVvJlDXLyOU4hh5BA5U0KuV0hzc5HorfuZH0P-IWFYczj6Gl-1PCky8IrNulCxieYW6d9T2D21IgMSuALRZhP&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wUbHmOcAJ8uqp0V1opcYQeDJgcTstUwGiRTet7Jpmel7IMb3e0zWdsRo4t3-wlX5E0q0GnqChbU4iYXgu1a5oB-uJsvuSTgqLCYo1nzJdwAFDejakhTOoFEQzokOzoL5kqAEM0qAUBK-guJmLFnwQ22LGJ4nGsuZgxXW_RmlXkmBBy&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w9Dn5UwEJ5pfDn9r-R4d1MZCPJjslOewq4HmP4xxNErzC1n6vBSCeqpSEo4aJjdl7xtYpwEYXFSGiVWyk936s_WXov7qlBJjrJB6GEOypBiLxJtRWymBKYJDXMEgGdBkWd9opssri0zXInm-Z0w8JG93NbAzn6xzMH9fjsNIOlx6-h&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xVpWqiIMG2VNLkA2qMmh7ywVHISJDXducjHW_0coGGEU7tg3hsgt7hhHvlvfWsj_VjSRdlHJWEVdM-DlN6zc-gtd1KFrLxs_Fi_8NTAIk6R3lVBqt6p4rFdisM3fL3ZsdNoTovwzrE5t-gLCGMIFszljlmQktWdEmwoCqC1qfLSZDT&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xGxrSbYdmvQvmjdtbFQxlbFN_uM5spy5wLraEDzI1b0I8dVJl-ftf4sIdi0v5nEuU_TMxF9X6dUQ8n66ZI3yBBj4p9rEUFpr6q1qngmxZ8pPSN37xJuz80A_7nUv3rkJWl97hcrjYwp2s3-Uyz2PZ84hreGgFULIA_fAmRV8CYY2we&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zpBkxJpPD-sWo3o2JlB-hEObXkyI_hAyd1PkIsL4XRElgy6wBUokd6oOGMnx73eqPunNEk8ZOvis4cqqUea7HyaD2J04u9ccdszee3KtJ52VM-4Dpjusd52SFVPIkcwtFU-0ijs9bjKMTPdG_Oee8FEaTlHi9Od9BcFB5MBdv5pR7F&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yrP2L3_86dtdO0nvGqhEEtoOG53_yUKZ2wfaD-U_TDMKcnP4PpXvIzui7U2N8R_Og4hDTnvum7_JRSO8Ww1vnjrEqSTQ38CjeInkuZ9MsHcEqvCSY0PnxkSN1If028o5ToDzgrj-ocsIDnmYGAoSO6FXHok0SW67HLHOGRMBuXd7V5&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wpctsjcHo9-i3vjNcpphLrLdFof8YUMlTs88nosmYa24wXaMdtNZBtHPNNVX3YKgkPGkLDuaBEQRwRtWM1q1KA-D7-9pFGv04lUOY2J02YIosbxgR5T33E2Rpl5uRPt_0Ia_lDf9m4jXPTgtHwZSEupFMy-uaQLcodWq_tl7Jx_k6L&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.3027211,"lng":109.2390543,"name":"그랑멜리아","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zG4ju2_tgilZQifCt4iF-eArltarNiHcq_4_24wMG55_aNmREft6XDTCnedJNITJReMpSEMYDIdsDUtPir140hjV2OXYoGkv53KDFeAnyIjAOARXDfAhUPEI_ytW5RvedTUFsGTSj0jeeC6_Z29XBSz9jPmESD-OUu_iiHdPDBYoYL&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y6H3jLmi9wqXvEj8YJDGOj0uJP3vmxpGmMo3X9PNRn8krMrub7rYxA6yE2kGXnzikoVsEnrGZQQkOXo5szGVGF-X0OwLYCcLAVERNW6Xu1Ga1Q3yMMuxKDF14-k0nCRmHgaaYaY11aEDlC58XjeYSh5h0Cd5m8g3Esd5hwLbbZ6a39&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zByOy2Hi-a7NHDJZgKVQWVoy9Ks0jooG0uuLgwH1Gt4h2QumheMMF7rZMtaNF5R3oCROSbuzaCYLNPo8fBZiUF2aoCJ94VEcTJtMnQexqslI89oJjJXdiRIXL8wfSA3ckfCGmuXnfqc83Ay_P3kOTGrkrjvlYVBY4fN3kAb27UHj4y&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yGTaiYWKyDYP04EeKjLxtDHCjXCXlXDzNyzU1T_BWCzh-xf50ubaTs-Rva2Mr7nBUAO6V5L-Xy7Dno0iz6QqmLLYIV2GAjlhlbKif7wqv2rusYNTtT1bh5qhZRHW6ts-FSA3JfhYuZNscIfGRwOecjgxHdW7XXGiTgXfOoQCDhNpym&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zgOHnMDWodoZvhyIkYGpmgBZ4bAS-smYR3tEvmE99LZHw8AQh_v0skt_mFBONJ8Ncinx6-H-3V9Ej-GD37G8Zhqs18UIAt3wFEIiSdWb66VQ2f76VsvHVNj0fRITmFC1ShzKobPJfY5Egra-AccexfMidPvMEOh9vkcPL-2cLQfCKX&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xeud--CP40D6My4NL7tzHW9FzN_XvqVsEuyk6Gz-8KGA0EPFLMrdU7EWatSJniWrBHz-VgNFvUOkQ30ZtGtnVVgYgbtp3dY9Zidqf_2hySGNc90nGTkT-twQtUPiPHXbSo784OMK7bpuyLwxLaR4aBBUKaMHqGGZWzp_HM3ih2L5tD&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yt13ZYTe3y6qCscGE_MuEzeu0zeIsthDLomXceJQ886aNKMbVSzT11XEdO6O5TDaRV5xlfcwpziLagmOgMOLF_sWljvMaP1bW6musuUVP5ARicOkSjJqC856Siz2HKCtxpTlH0ScQISIyjE57FwEdbNZ29R30wXDEYodEx2pQ516zg&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xscxVPri-CH1zThGetzpXVv7iu5kf39T3U3_I7dnMr3yRZp_zS5C13v0T8ab02Lqk_dpT7ecx0rgd5C0TUxb2vnKP1cQe0MyIJRbSn9y0UCqq9aYJ5pugmYL4rg47XdsE_P6EWtV-7c0wFbue423SzrURTZz8eeDPu4HC4-lfeDR3V&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wB8dgqcCItbaFsJBREhfmecKxFeWZHt5K4SHr96s73LF49I2N0cqBgk_lhT4Lrdk81UkXGE48UGEeuXvX9HA2MLNpvKeoVLUYdIeYv9WAs7APwlo343NAXLHRa6CP9IKr-ZJPE-9fZEosEZDmlxhl7ilEsFZMpb870UNbgCNH9V28x&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wf97-E_7sTFqhoWF1uEwtAa2DhuqVfxeosar62vWPMRIdqPs-AZQM5D_xjEycpnXPniZdnskcgkNSlF9qUt7MS6KejwvabdFcZe-y8-gGlF7Iq27NqzJK975NaZkJW9EgpNS9aW2V_xlYB-OQaavzwDiIq5FMmeBPoJI57Cn90adAU&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.2185907,"lng":109.2551167,"name":"메리어트 리조트 앤 스파 나트랑","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zKtO0BGzfHWgC-LYm0op5dWj3AD6i2TyUpMEoyNVb3RCULdtaoA66UAMyWIXz2S2OQzOmU0d9NnZq3ObJMsM_yKPUA2jlEjEpRr8jbahJeu389MQUxlOdSpbVcZQuD420P-Ak8A7EiQRsx5s__GOeGsR1_ox7Rt2D3SS5A8wK6cY-a&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xwpAFKQ6AOdzlweOkCIjlfAIKhDYBLyN0FhbVu5SLbULVk52kyfuUFCQSgrxEhlE3SFehaulgEnDaGqw2qZu0kfiGUbMgCRpTtgjfJl3eXlRhhCpVkeHJ1HwMkegOy6FRMzB_F1-ubhesjinVCExz2lNFsezjRnFOUxpUbs8s4QZob&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x6NmX9Xhg6ngkwqDTyAjYivDhPwZqYO9VYb0AJgT8xAW2D9zttkSpBINc-d8BF4Jd8UodZzQNNX_QpKn2wx9HfVBm-AFlsZ31nQZtD3L-UYh_Ck0tCEtULCXL_bKXJQ0uHEWGhBpqkffp6bfnTmmm43JOm5JHitN7P4vJq_h3-Oy_D&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yrUWZRYP56QkoZx9ZV3jx46AKHO3WJ55cuJIv2RqMEMpEJKnnmrt3uyKBikf2wMQc-N5bDvMMI-qc5GKuwIwRhR4ICzYTRVEQ5GU1Z1g6HdfjAb19ZRnLl2ZYs9d2UOsrl91lTDtdCpqWM067bg3t1w7cfKExGH3xijyrtHMVMhGKA&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zDIPZltgMRV5ZtFub18e48jvDHvEyTvoMwsxFiiAs1g68ZxaM8tL0ngxrn3IS8H1H8u9lqcJ7mlkLQVQF72U-BQge5iDXQCcJB58inzKj5ibirHSMfyiRsmoGeBnENSoaTPHbk6a5fkzRK8hzlTuQ9XMPNNBdvQPQbjBBtkO_Sfm5U&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zvooGS1_2nrBDKzcDH4Zqwud92zzBha7dvZ1Qb8_1krPN40HbISsCPTg8FkTXpLM7rpIvOPggN87q6DBOK1f_OZsKQLXAmK3dV5XLlujXGe64LPGOkldfSybMc7pqDE6YeLj1dof7r5T5jiTARGNiFrBpDe3zCE-RwjereqHu-rthL&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yP-kyRj2fvu-H6lGu3wC1u-wrcra9MZzhnWsHV2Trp0lyOzevvUcnijc8I-T0ivvMsGxdgBtOpsMJI39gXCmdpphsCavIFwBxv2Hi5PEIWpgj8j6nX0IbiZVyA9I-KqN8K1ZBenAvmCEK3DxeBRL3E9Z3atU7_VT2pWehCSiYiJNOE&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wMDScviGk2rwQuEI0sxfmh_EgMLkHNwkUS_a7en38W9o0U460x2wjUBamDl1fkiC4CrK3sSXNfpVzhIobYRAaWtfCGO3JqQ2JfgJjNV0hFwzJQMVsad1kTBQW5Wv60jVWmVB4SrUfW8p58lri3y7_I6Jzsnv0D8vxG5cupqwKNYnT1&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27w7oXkJ-6-PGZpt0GzkYOwu9lEai7fX9HULo50fBn4XxMJDLo0qSLLiU0U-B9uyg_9fH3Tq-mN2r1vT8rHqyT0KVleYfNeVlLCofqBxJKtGRpHMiArgSxVk4I0Wez5BWew_aIqy3IAec95VxqlAMHt9qf8ycnlKPZH3TMfjGkHKVY2n&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yndNccYOKjUiHt_o9gMEerQJJifCNAfJs6DgugOzZD7qVDhWw0ZEm97IoParls5IaRx1vEI_v4ghRx6eYBLXeqUv10k2d5zkHjRPm79tEtJGOkjw3aZ2Fb03CVU523pMkFvA1BjCj2lTIAzRUIRiBkeaGULuxec_Lj4N0BGJ6T3uEA&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]},{"lat":12.2253121,"lng":109.237382,"name":"빈펄 리조트 앤 스파 나트랑베이","photos":["https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27xu76pH5CT60IVRc_H2KHgYSmDZRMDm4tHKGBqKcP6k0T3_eyfDshiThcIa5nqyK4tHiHPrDKRjbZTUociAEHrZmsK3LbOdYhEYsjjUFaLVrF38hdsATT57KdgIil6IypOQKmwBrOyGbmKz69W6RuJxKskMkrwWUg1EY9syIuqQAF9q&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27z2xhyr7OPpWmX3Ou37n6iU2JhU5G6_fVTzB53v-FgLQDdumuLYImF0dnxqmTa9GIl1WX3PZum9k6mLU83O8fCj6NBFVo3vc5fSmHIoisizPnWv0CzavLhfO4Qe0pU8yNE5Sm-60bW1a4I3lsvE8s7jvSieGsrYN_c0bdCuaut27TT8&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wg3l83c8E4cVFNxSBmNlBijyewHVFUrsSOSoxKWyWlaVqPCIXNMhtmEgMPqA5QfREOncbkjDXZx8W1cyytJJwHKgkNjEwEK0W-H4a4pY3BtmSfVl0ZCIb5SMFpwqIGAaaXWiHOy-xiklIlFOHv9laYpN3z-Kty-trunZ_b83IdqeQ&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27yjSjp3H8T8MghUoDYXSSEj_HzVIGOi_ZVTiLLBGm1CnD1bWlcHzyi-HLF4l9Htf6Yb7GQI9mfgDjuTSLcvxN1uWnEll0illhSNv3plCJ5YYkY4mdvcclIPEgkK1z05b1EgenIJOZQO_ssEXuvDkjja-yGGlYO5DmGWTXkKIgyuEk3G&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y54V6SZJJuVn52OjiSO2fFttwJJatVsZLtWvgX4dbQUBJLTKWucvbO1oaGJXs4ohama7szlUOggx6IAsgLSUnmAcWVqfntsTx0xax-uvbOHjASXm-thJHp36Yfi3Qn4OKGh3vfChdiLRP46WK-KaI2i3mJKAA7JP3MtHvaWriNiqhj&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27y3uCVkwVgJItzVnwjFrUZVCHfAe10bOOGBFR3_Ua1TyypoGj4FUe4hYQGLcPck7ZDwAmtVj8Ww7P5JBEc-4k6KQUhSP1z_Gc6T5kLx-Mj5Ky8CTj9-hFxfVJDYdPvWMTdNhwizsBJLGKXUtLO2YlE1l5m7WFZBWuDtiz_oDXf-DRdk&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27z3xpEk-yohE3ARhXphpZjdLZkuhvhU1_MmYVxZEEZuQcJohlyzQz218rMxKz1jwuM219tokYlMs8sueTFaOPRZ6unG7T74nu6vO_cRro3FIrHHyLXPShomTqC-UfOdRDJJjPKB6fykiPXK00NEtYDsPjS3fY52tASs-C9oVG4KshmI&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27x5qb-rWqbVtc9O_D_z6bZeaGBltm6vm-izIoy2Vsn_iZiKJK7wtyV5UuEqApMJ4bqDtPuA1Vr8tGAKcWiEYoJlHeBbha0LudXPgv-7uCYQJVmFySDe_veB398NTyb_vLFqfIK2YKDQ7AWXe4L0JqJpElPvmWAOWDmCAmfyDLLygp2_&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27wsHWzSc_Kl3IuoeBtVUilv1B59df-e3DxSQLmGvnx6eJlVIVcN4ZAiYkUcw8uMbV2wSxHGk1EST8JW94loAcEVplfECQD2sCR4I59DGDM279FJkIto00M8p-6-SWK0UnzDF6xzaVVe74RE674fNUuRG2sR7ib88K1eSx5LYFKU6Nd-&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo","https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=AWYs27zWrdtPjIoKdg34GlvcT1QqNguAtCQXN3iLVIvIlbdmcH3G73J3VWm6UqNX5K276a13QhgGcbV-7PSBwqgVGrFSF3sF8xrnWBEoH4Gm9kEjlmUifBwpTZebb9-fsLl663A2CEDxSkpdwHII4Kbp7vp3VxbDYcgUNKUF5E-21odkVMFo&key=AIzaSyCTY9ShRqYAD8PMVpl7k38tmvPUub6j5bo"]}];
        const landmarks = [{"lat":12.2400618915029,"lng":109.196151222402,"name":"시내","photos":[]}];
        let map, directionsService, directionsRenderer, blinkingPolyline;
        let activeLabels = [];
        let selectedLandmarkLabel = null;
        let currentHotel = null; 
        let currentTravelTimeLabelOverlay = null; 

        const defaultMapStyles = [
            {
                "featureType": "all",
                "elementType": "labels",
                "stylers": [
                    { "visibility": "off" }
                ]
            }
        ];

        const normalMapStyles = []; 

        
        function initMap() {
            console.log("지도 초기화 시작");

            if (!locations || locations.length === 0) {
                alert("호텔 데이터가 없습니다.");
                return;
            }

            const mainHotel = locations[0];
            currentHotel = mainHotel; 

            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: mainHotel.lat, lng: mainHotel.lng },
                zoom: 14,
                disableDefaultUI: true,
                styles: defaultMapStyles
            });

            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer({ map, suppressMarkers: true });

            renderCustomLabels(locations, "호텔", "#0000FF", "hotel");
            renderCustomLabels(landmarks, "관광지", "#FF1493", "landmark");
            renderCustomLabels([airport], "공항", "#008000", "airport"); 

            showHotelInfo(mainHotel);
            showRouteToAirport(mainHotel);
            showLandmarkDistances(mainHotel);

            addLabelToggleControl();
        }

        
        function addLabelToggleControl() {
            const controlsDiv = document.createElement('div');
            controlsDiv.id = 'controls';

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = 'toggleLabels';
            checkbox.addEventListener('change', toggleMapLabels);

            const label = document.createElement('label');
            label.htmlFor = 'toggleLabels';
            label.textContent = '주변정보 보기'; 

            controlsDiv.appendChild(checkbox);
            controlsDiv.appendChild(label);

            document.body.appendChild(controlsDiv);
        }

        
        function toggleMapLabels() {
            const showDefaultLabels = document.getElementById('toggleLabels').checked;
            map.setOptions({
                styles: showDefaultLabels ? normalMapStyles : defaultMapStyles
            });
        }

        
        function renderCustomLabels(data, labelType, labelColor, className) {
            data.forEach(item => {
                const labelDiv = document.createElement('div');
                labelDiv.className = `label ${className}`;
                labelDiv.style.color = labelColor;
                labelDiv.innerText = item.name;
                labelDiv.dataset.lat = item.lat;
                labelDiv.dataset.lng = item.lng;

                const overlay = new google.maps.OverlayView();
                overlay.onAdd = function () {
                    const layer = this.getPanes().overlayMouseTarget;
                    layer.appendChild(labelDiv);
                };
                overlay.draw = function () {
                    const projection = this.getProjection();
                    const position = projection.fromLatLngToDivPixel(new google.maps.LatLng(item.lat, item.lng));
                    labelDiv.style.left = position.x + 'px';
                    labelDiv.style.top = position.y + 'px';
                };
                overlay.onRemove = function () {
                    labelDiv.parentNode.removeChild(labelDiv);
                };
                overlay.setMap(map);

                
                labelDiv.addEventListener('click', () => {
                    if (labelType === "호텔") {
                        currentHotel = item; 
                        showHotelInfo(item);
                        showRouteToAirport(item);
                        showLandmarkDistances(item);
                        animateLabels(item, airport); 
                        document.getElementById('selected-landmark-info').style.display = 'none'; 
                        document.querySelectorAll('.landmark-distance').forEach(div => {
                            div.classList.remove('selected');
                        });
                    }

                    if (labelType === "관광지") {
                        
                        animateLabels(currentHotel, item); 
                        showRouteToLandmark(currentHotel, item); 
                        showSelectedLandmarkInfo(item); 
                        highlightLandmarkListItem(item); 
                    }
                });

                
                labelDiv.addEventListener('mouseover', () => {
                    labelDiv.style.cursor = 'pointer';
                });
            });
        }

        
        function showHotelInfo(hotel) {
            const infoContainer = document.getElementById('info-container');
            const hotelPhoto = hotel.photos && hotel.photos.length > 0 ? hotel.photos[0] : "이미지가 없습니다.";
            infoContainer.innerHTML = `
                <select id="hotel-dropdown">
                    <option value="">호텔 선택</option>
                    ${locations.map(location => `
                        <option value="${location.name}" ${location.name === hotel.name ? 'selected' : ''}>${location.name}</option>
                    `).join('')}
                </select>
                <h3>${hotel.name}</h3>
                <img src="${hotelPhoto}" alt="${hotel.name}" style="width: 100%; height: auto;">
                <div id="airport-distance">
                    <h4>공항과의 거리 정보</h4>
                    <!-- 공항과의 거리 정보가 여기에 표시됩니다 -->
                </div>
                <div id="selected-landmark-info">
                    <h4>선택된 관광지 정보</h4>
                    <!-- 선택된 관광지의 거리 및 시간 정보가 여기에 표시됩니다 -->
                </div>
                <div id="landmark-distances">
                    <h4>관광지 거리 정보</h4>
                    <!-- 관광지 리스트가 여기에 표시됩니다 -->
                </div>
            `;

            
            document.querySelectorAll('.label.hotel').forEach(label => {
                label.classList.remove('selected'); 
            });

            
            const selectedHotelLabel = findLabel(hotel);
            if (selectedHotelLabel) {
                selectedHotelLabel.classList.add('selected');
            }

            
            const hotelDropdown = document.getElementById('hotel-dropdown');
            hotelDropdown.addEventListener('change', function() {
                const selectedHotel = locations.find(location => location.name === this.value);
                if (selectedHotel) {
                    currentHotel = selectedHotel; 
                    showHotelInfo(selectedHotel);
                    showRouteToAirport(selectedHotel);
                    showLandmarkDistances(selectedHotel);
                }
            });
        }

        
        function showRouteToAirport(hotel) {
            directionsService.route({
                origin: { lat: hotel.lat, lng: hotel.lng },
                destination: { lat: airport.lat, lng: airport.lng },
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === google.maps.DirectionsStatus.OK) {
                    const path = result.routes[0].overview_path;
                    const leg = result.routes[0].legs[0];
                    const travelTime = leg.duration.text;

                    animateLabels(hotel, airport);
                    drawPolyline(path, travelTime); 

                    const bounds = new google.maps.LatLngBounds();
                    result.routes[0].overview_path.forEach(point => bounds.extend(point));
                    map.fitBounds(bounds);

                    document.getElementById('airport-distance').innerHTML = `
                        <p>공항까지 거리: ${leg.distance.text}</p>
                        <p>예상 시간: ${leg.duration.text}</p>
                    `;
                }
            });
        }

        
        function showRouteToLandmark(hotel, landmark) {
            directionsService.route({
                origin: { lat: hotel.lat, lng: hotel.lng },
                destination: { lat: landmark.lat, lng: landmark.lng },
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === google.maps.DirectionsStatus.OK) {
                    const path = result.routes[0].overview_path;
                    const leg = result.routes[0].legs[0];
                    const travelTime = leg.duration.text;

                    animateLabels(hotel, landmark);
                    drawPolyline(path, travelTime); 

                    const bounds = new google.maps.LatLngBounds();
                    result.routes[0].overview_path.forEach(point => bounds.extend(point));
                    map.fitBounds(bounds);

                    document.getElementById('selected-landmark-info').innerHTML = `
                        <p>선택된 관광지: <strong>${landmark.name}</strong></p>
                        <p>거리: ${leg.distance.text}</p>
                        <p>예상 시간: ${leg.duration.text}</p>
                    `;
                    document.getElementById('selected-landmark-info').style.display = 'block';
                }
            });
        }

        
        function showSelectedLandmarkInfo(landmark) {
            const selectedInfoDiv = document.getElementById('selected-landmark-info');
            selectedInfoDiv.innerHTML = `
                <p>선택된 관광지: <strong>${landmark.name}</strong></p>
                <p>거리: ${landmark.distanceText}</p>
                <p>예상 시간: ${landmark.durationText}</p>
            `;
            selectedInfoDiv.style.display = 'block';
        }

        
        function highlightLandmarkListItem(landmark) {
            document.querySelectorAll('.landmark-distance').forEach(div => {
                div.classList.remove('selected');
                if (div.textContent.startsWith(landmark.name)) {
                    div.classList.add('selected');
                }
            });
        }

        
        function showLandmarkDistances(hotel) {
            const distancesDiv = document.getElementById('landmark-distances');
            distancesDiv.innerHTML = "";

            const landmarkDistances = [];

            const promises = landmarks.map(landmark => {
                return new Promise((resolve, reject) => {
                    directionsService.route({
                        origin: { lat: hotel.lat, lng: hotel.lng },
                        destination: { lat: landmark.lat, lng: landmark.lng },
                        travelMode: google.maps.TravelMode.DRIVING
                    }, (result, status) => {
                        if (status === google.maps.DirectionsStatus.OK) {
                            const leg = result.routes[0].legs[0];
                            landmarkDistances.push({
                                name: landmark.name,
                                distance: leg.distance.value,
                                distanceText: leg.distance.text,
                                durationText: leg.duration.text,
                                path: result.routes[0].overview_path,
                                lat: landmark.lat, 
                                lng: landmark.lng  
                            });
                            resolve();
                        } else {
                            reject(`Failed to calculate distance for ${landmark.name}`);
                        }
                    });
                });
            });

            Promise.all(promises).then(() => {
                landmarkDistances.sort((a, b) => a.distance - b.distance);
                landmarkDistances.forEach(item => {
                    const landmarkDiv = document.createElement("div");
                    landmarkDiv.className = "landmark-distance";
                    landmarkDiv.textContent = `${item.name}: ${item.distanceText}, 예상 시간: ${item.durationText}`;
                    landmarkDiv.onclick = () => {
                        
                        document.querySelectorAll('.landmark-distance').forEach(div => {
                            div.classList.remove('selected');
                        });
                        landmarkDiv.classList.add('selected');

                        
                        animateLabels(currentHotel, { name: item.name, lat: item.lat, lng: item.lng });
                        drawPolyline(item.path, item.durationText); 

                        
                        showSelectedLandmarkInfo(item);

                        
                        highlightLandmarkListItem(item);

                        const bounds = new google.maps.LatLngBounds();
                        item.path.forEach(point => bounds.extend(point));
                        map.fitBounds(bounds);
                    };

                    distancesDiv.appendChild(landmarkDiv);
                });
            }).catch(error => {
                console.error("Error calculating landmark distances:", error);
                distancesDiv.innerHTML = "<p>거리 정보를 불러오는 중 오류가 발생했습니다.</p>";
            });
        }

        
        function drawPolyline(path, travelTime) {
            if (blinkingPolyline) {
                blinkingPolyline.setMap(null);
            }

            blinkingPolyline = new google.maps.Polyline({
                path: path,
                strokeColor: "#0000FF",
                strokeOpacity: 0.8,
                strokeWeight: 5,
                map: map,
            });

            
            const midpointIndex = Math.floor(path.length / 2);
            const midpoint = path[midpointIndex];

            
            if (currentTravelTimeLabelOverlay) {
                currentTravelTimeLabelOverlay.setMap(null);
                currentTravelTimeLabelOverlay = null;
            }

            
            const travelTimeLabel = document.createElement('div');
            travelTimeLabel.className = 'travel-time-label';
            travelTimeLabel.innerText = `이동 시간: ${travelTime}`;

            
            currentTravelTimeLabelOverlay = new google.maps.OverlayView();
            currentTravelTimeLabelOverlay.onAdd = function () {
                const layer = this.getPanes().overlayLayer;
                layer.appendChild(travelTimeLabel);
            };
            currentTravelTimeLabelOverlay.draw = function () {
                const projection = this.getProjection();
                const position = projection.fromLatLngToDivPixel(new google.maps.LatLng(midpoint.lat(), midpoint.lng()));
                
                travelTimeLabel.style.left = position.x + 'px';
                travelTimeLabel.style.top = (position.y - 20) + 'px'; 
            };
            currentTravelTimeLabelOverlay.onRemove = function () {
                travelTimeLabel.parentNode.removeChild(travelTimeLabel);
            };
            currentTravelTimeLabelOverlay.setMap(map);
        }

        
        function animateLabels(start, end) {
            
            document.querySelectorAll('.label').forEach(label => {
                label.classList.remove('selected', 'dimmed');
            });

            
            const startLabel = findLabel(start);
            if (startLabel) {
                startLabel.classList.add('selected');
            }

            
            const endLabel = findLabel(end);
            if (endLabel) {
                endLabel.classList.add('selected');
            }

            
            document.querySelectorAll('.label').forEach(label => {
                if (!label.classList.contains('selected')) {
                    label.classList.add('dimmed');
                }
            });
        }

        
        function findLabel(location) {
            return document.querySelector(`.label[data-lat="${location.lat}"][data-lng="${location.lng}"]`);
        }
    </script>
</body>
</html>
